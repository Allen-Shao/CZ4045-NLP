,text,token,annotation
0,"I am writing a web application. Incoming requests will pass through middlewares first. At the moment, I've added two middlwares session and security.
After walked through middlwares, it will execute the handler for the request.
Session and security middlwares will execute in their own goroutine.

When I am testing I've got a lot of data race, specially in middlware section

","['I', 'am', 'writing', 'a', 'web', 'application.', 'Incoming', 'requests', 'will', 'pass', 'through', 'middlewares', 'first.', 'At', 'the', 'moment,', ""I've"", 'added', 'two', 'middlwares', 'session', 'and', 'security.', 'After', 'walked', 'through', 'middlwares,', 'it', 'will', 'execute', 'the', 'handler', 'for', 'the', 'request.', 'Session', 'and', 'security', 'middlwares', 'will', 'execute', 'in', 'their', 'own', 'goroutine.', 'When', 'I', 'am', 'testing', ""I've"", 'got', 'a', 'lot', 'of', 'data', 'race,', 'specially', 'in', 'middlware', 'section']","['PRP', 'VBP', 'VBG', 'DT', 'NN', 'NN', 'NNP', 'NNS', 'MD', 'VB', 'IN', 'NNS', 'VBP', 'IN', 'DT', 'NN', 'NNP', 'VBD', 'CD', 'NNS', 'NN', 'CC', 'NN', 'IN', 'VBN', 'IN', 'NN', 'PRP', 'MD', 'VB', 'DT', 'NN', 'IN', 'DT', 'NN', 'NNP', 'CC', 'NN', 'NNS', 'MD', 'VB', 'IN', 'PRP$', 'JJ', 'NN', 'WRB', 'PRP', 'VBP', 'VBG', 'NNP', 'VBD', 'DT', 'NN', 'IN', 'NNS', 'NNS', 'RB', 'IN', 'NN', 'NN']"
1,WARNING: DATA RACE,"['WARNING', ':', 'DATA', 'RACE']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER']"
2,Write by goroutine 18:,"['Write', 'by', 'go', 'routine', '18', ':']","['IDENTIFIER', 'IDENTIFIER', 'KEYWORD', 'IDENTIFIER', 'DECIMAL_LITERAL', 'OPERATOR']"
3,  runtime.mapassign1(),['runtime.mapassign1()'],['FUNCTION_CALL']
4,      c:/go/src/runtime/hashmap.go:383 +0x0,"['c:/go/src/runtime/hashmap.go:383', '+', '0', 'x0']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL', 'IDENTIFIER']"
5,  net/textproto.MIMEHeader.Set(),['net/textproto.MIMEHeader.Set()'],['DIRECTORY']
6,      c:/go/src/net/textproto/header.go:22 +0xf4,"['c:/go/src/net/textproto/header.go:22', '+', '0xf4']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
7,  net/http.Header.Set(),['net/http.Header.Set()'],['DIRECTORY']
8,      c:/go/src/net/http/header.go:31 +0x64,"['c:/go/src/net/http/header.go:31', '+', '0x64']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
9,  project/middlewares/session.(*ctrl).setHttpHeader(),['project/middlewares/session.(*ctrl).setHttpHeader()'],['DIRECTORY']
10,      D:/gocode/src/project/middlewares/session/ctrl.go:76 +0x9d,"['D:/gocode/src/project/middlewares/session/ctrl.go:76', '+', '0x9d']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
11,  project/middlewares/session.(*ctrl).evaluateJwt(),['project/middlewares/session.(*ctrl).evaluateJwt()'],['DIRECTORY']
12,      D:/gocode/src/project/middlewares/session/ctrl.go:56 +0x31a,"['D:/gocode/src/project/middlewares/session/ctrl.go:56', '+', '0x31a']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
13,  project/middlewares/session.(*ctrl).serveHttp(),['project/middlewares/session.(*ctrl).serveHttp()'],['DIRECTORY']
14,      D:/gocode/src/project/middlewares/session/ctrl.go:94 +0x8a,"['D:/gocode/src/project/middlewares/session/ctrl.go:94', '+', '0x8a']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
15,  project/middlewares/session.func┬À006(),['project/middlewares/session.func┬À006()'],['DIRECTORY']
16,      D:/gocode/src/project/middlewares/session/serve_http.go:23 +0x,"['D:/gocode/src/project/middlewares/session/serve_http.go:23', '+', '0', 'x']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL', 'IDENTIFIER']"
17,Previous write by goroutine 17:,"['Previous', 'write', 'by', 'go', 'routine', '17', ':']","['IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'KEYWORD', 'IDENTIFIER', 'DECIMAL_LITERAL', 'OPERATOR']"
18,  runtime.mapassign1(),['runtime.mapassign1()'],['FUNCTION_CALL']
19,      c:/go/src/runtime/hashmap.go:383 +0x0,"['c:/go/src/runtime/hashmap.go:383', '+', '0', 'x0']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL', 'IDENTIFIER']"
20,  net/textproto.MIMEHeader.Add(),['net/textproto.MIMEHeader.Add()'],['DIRECTORY']
21,      c:/go/src/net/textproto/header.go:15 +0x212,"['c:/go/src/net/textproto/header.go:15', '+', '0x212']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
22,  net/http.Header.Add(),['net/http.Header.Add()'],['DIRECTORY']
23,      c:/go/src/net/http/header.go:24 +0x64,"['c:/go/src/net/http/header.go:24', '+', '0x64']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
24,  github.com/unrolled/secure.(*Secure).Process(),['github.com/unrolled/secure.(*Secure).Process()'],['DIRECTORY']
25,      D:/gocode/src/github.com/unrolled/secure/secure.go:177 +0xe5b,"['D:/gocode/src/github.com/unrolled/secure/secure.go:177', '+', '0xe5b']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
26,  project/middlewares/security.func┬À001(),['project/middlewares/security.func┬À001()'],['DIRECTORY']
27,      D:/gocode/src/project/middlewares/security/serve_http.go:33 +0,"['D:/gocode/src/project/middlewares/security/serve_http.go:33', '+', '0']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL']"
28,Goroutine 18 (running) created at:,"['Goroutine', '18', '(', 'running', ')', 'created', 'at', ':']","['IDENTIFIER', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR']"
29,  project/middlewares/session.ServeHttp(),['project/middlewares/session.ServeHttp()'],['DIRECTORY']
30,      D:/gocode/src/project/middlewares/session/serve_http.go:29 +0x,"['D:/gocode/src/project/middlewares/session/serve_http.go:29', '+', '0', 'x']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL', 'IDENTIFIER']"
31,  project/middlewares.New(),['project/middlewares.New()'],['DIRECTORY']
32,      D:/gocode/src/project/middlewares/ctrl.go:12 +0x99,"['D:/gocode/src/project/middlewares/ctrl.go:12', '+', '0x99']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
33,  github.com/codegangsta/negroni.HandlerFunc.ServeHTTP(),['github.com/codegangsta/negroni.HandlerFunc.ServeHTTP()'],['DIRECTORY']
34,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:24 +0x5f,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:24', '+', '0x5f']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
35,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
36,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
37,  github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm(),['github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm()'],['DIRECTORY']
38,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x84,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x84']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
39,  github.com/codegangsta/negroni.(*Static).ServeHTTP(),['github.com/codegangsta/negroni.(*Static).ServeHTTP()'],['DIRECTORY']
40,      D:/gocode/src/github.com/codegangsta/negroni/static.go:30 +0xb71,"['D:/gocode/src/github.com/codegangsta/negroni/static.go:30', '+', '0xb71']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
41,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
42,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
43,  github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm(),['github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm()'],['DIRECTORY']
44,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x84,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x84']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
45,  github.com/codegangsta/negroni.(*Logger).ServeHTTP(),['github.com/codegangsta/negroni.(*Logger).ServeHTTP()'],['DIRECTORY']
46,      D:/gocode/src/github.com/codegangsta/negroni/logger.go:25 +0x249,"['D:/gocode/src/github.com/codegangsta/negroni/logger.go:25', '+', '0x249']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
47,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
48,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
49,  github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm(),['github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm()'],['DIRECTORY']
50,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x84,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x84']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
51,  github.com/codegangsta/negroni.(*Recovery).ServeHTTP(),['github.com/codegangsta/negroni.(*Recovery).ServeHTTP()'],['DIRECTORY']
52,      D:/gocode/src/github.com/codegangsta/negroni/recovery.go:45 +0xd9,"['D:/gocode/src/github.com/codegangsta/negroni/recovery.go:45', '+', '0xd9']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
53,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
54,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
55,  github.com/codegangsta/negroni.(*Negroni).ServeHTTP(),['github.com/codegangsta/negroni.(*Negroni).ServeHTTP()'],['DIRECTORY']
56,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:73 +0x1c7,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:73', '+', '0x1c7']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
57,  net/http/httptest.(*waitGroupHandler).ServeHTTP(),['net/http/httptest.(*waitGroupHandler).ServeHTTP()'],['DIRECTORY']
58,      c:/go/src/net/http/httptest/server.go:200 +0xfe,"['c:/go/src/net/http/httptest/server.go:200', '+', '0xfe']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
59,  net/http.serverHandler.ServeHTTP(),['net/http.serverHandler.ServeHTTP()'],['DIRECTORY']
60,      c:/go/src/net/http/server.go:1703 +0x1fd,"['c:/go/src/net/http/server.go:1703', '+', '0x1fd']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
61,  net/http.(*conn).serve(),['net/http.(*conn).serve()'],['DIRECTORY']
62,      c:/go/src/net/http/server.go:1204 +0x108e,"['c:/go/src/net/http/server.go:1204', '+', '0x1', '0', '8', 'e']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL', 'OCTAL_LITERAL', 'DECIMAL_LITERAL', 'IDENTIFIER']"
63,Goroutine 17 (finished) created at:,"['Goroutine', '17', '(', 'finished', ')', 'created', 'at', ':']","['IDENTIFIER', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR']"
64,  project/middlewares/security.ServeHttp(),['project/middlewares/security.ServeHttp()'],['DIRECTORY']
65,      D:/gocode/src/project/middlewares/security/serve_http.go:37 +0,"['D:/gocode/src/project/middlewares/security/serve_http.go:37', '+', '0']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL']"
66,  project/middlewares.New(),['project/middlewares.New()'],['DIRECTORY']
67,      D:/gocode/src/project/middlewares/ctrl.go:12 +0x64,"['D:/gocode/src/project/middlewares/ctrl.go:12', '+', '0x64']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
68,  github.com/codegangsta/negroni.HandlerFunc.ServeHTTP(),['github.com/codegangsta/negroni.HandlerFunc.ServeHTTP()'],['DIRECTORY']
69,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:24 +0x5f,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:24', '+', '0x5f']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
70,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
71,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
72,  github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm(),['github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm()'],['DIRECTORY']
73,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x84,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x84']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
74,  github.com/codegangsta/negroni.(*Static).ServeHTTP(),['github.com/codegangsta/negroni.(*Static).ServeHTTP()'],['DIRECTORY']
75,      D:/gocode/src/github.com/codegangsta/negroni/static.go:30 +0xb71,"['D:/gocode/src/github.com/codegangsta/negroni/static.go:30', '+', '0xb71']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
76,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
77,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
78,  github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm(),['github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm()'],['DIRECTORY']
79,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x84,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x84']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
80,  github.com/codegangsta/negroni.(*Logger).ServeHTTP(),['github.com/codegangsta/negroni.(*Logger).ServeHTTP()'],['DIRECTORY']
81,      D:/gocode/src/github.com/codegangsta/negroni/logger.go:25 +0x249,"['D:/gocode/src/github.com/codegangsta/negroni/logger.go:25', '+', '0x249']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
82,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
83,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
84,  github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm(),['github.com/codegangsta/negroni.middleware.ServeHTTP┬Àfm()'],['DIRECTORY']
85,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x84,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x84']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
86,  github.com/codegangsta/negroni.(*Recovery).ServeHTTP(),['github.com/codegangsta/negroni.(*Recovery).ServeHTTP()'],['DIRECTORY']
87,      D:/gocode/src/github.com/codegangsta/negroni/recovery.go:45 +0xd9,"['D:/gocode/src/github.com/codegangsta/negroni/recovery.go:45', '+', '0xd9']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
88,  github.com/codegangsta/negroni.middleware.ServeHTTP(),['github.com/codegangsta/negroni.middleware.ServeHTTP()'],['DIRECTORY']
89,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33 +0x114,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:33', '+', '0x114']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
90,  github.com/codegangsta/negroni.(*Negroni).ServeHTTP(),['github.com/codegangsta/negroni.(*Negroni).ServeHTTP()'],['DIRECTORY']
91,      D:/gocode/src/github.com/codegangsta/negroni/negroni.go:73 +0x1c7,"['D:/gocode/src/github.com/codegangsta/negroni/negroni.go:73', '+', '0x1c7']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
92,  net/http/httptest.(*waitGroupHandler).ServeHTTP(),['net/http/httptest.(*waitGroupHandler).ServeHTTP()'],['DIRECTORY']
93,      c:/go/src/net/http/httptest/server.go:200 +0xfe,"['c:/go/src/net/http/httptest/server.go:200', '+', '0xfe']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
94,  net/http.serverHandler.ServeHTTP(),['net/http.serverHandler.ServeHTTP()'],['DIRECTORY']
95,      c:/go/src/net/http/server.go:1703 +0x1fd,"['c:/go/src/net/http/server.go:1703', '+', '0x1fd']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
96,  net/http.(*conn).serve(),['net/http.(*conn).serve()'],['DIRECTORY']
97,      c:/go/src/net/http/server.go:1204 +0x108e,"['c:/go/src/net/http/server.go:1204', '+', '0x1', '0', '8', 'e']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL', 'OCTAL_LITERAL', 'DECIMAL_LITERAL', 'IDENTIFIER']"
98,==================,['=================='],['OPERATOR']
99,2015/02/03 15:05:31 ctrl.go:17: End of process middlewares,"['2015/02/03', '15', ':', '05', ':', '31', 'ctrl', '.', 'go', ':', '17', ':', 'End', 'of', 'process', 'middlewares']","['DIRECTORY', 'DECIMAL_LITERAL', 'OPERATOR', 'OCTAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER']"
100,2015/02/03 15:05:31 funcs.go:10: Create new user,"['2015/02/03', '15', ':', '05', ':', '31', 'func', 's', '.', 'go', ':', '10', ':', 'Create', 'new', 'user']","['DIRECTORY', 'DECIMAL_LITERAL', 'OPERATOR', 'OCTAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'KEYWORD', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER']"
101,2015/02/03 15:05:31 validate.go:14: Validate email thompson@example.com,"['2015/02/03', '15', ':', '05', ':', '31', 'validate', '.', 'go', ':', '14', ':', 'Validate', 'email', 'thompson', 'example', '.', 'com']","['DIRECTORY', 'DECIMAL_LITERAL', 'OPERATOR', 'OCTAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
102,2015/02/03 15:05:31 validate.go:100: Validate password Test!1234,"['2015/02/03', '15', ':', '05', ':', '31', 'validate', '.', 'go', ':', '100', ':', 'Validate', 'password', 'Test', '!', '1234']","['DIRECTORY', 'DECIMAL_LITERAL', 'OPERATOR', 'OCTAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'DECIMAL_LITERAL']"
103,2015/02/03 15:05:31 validate.go:52: Validate name:  ValidName,"['2015/02/03', '15', ':', '05', ':', '31', 'validate', '.', 'go', ':', '52', ':', 'Validate', 'name', ':', 'ValidName']","['DIRECTORY', 'DECIMAL_LITERAL', 'OPERATOR', 'OCTAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
104,2015/02/03 15:05:31 create.go:120: Done,"['2015/02/03', '15', ':', '05', ':', '31', 'create', '.', 'go', ':', '120', ':', 'Done']","['DIRECTORY', 'DECIMAL_LITERAL', 'OPERATOR', 'OCTAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER']"
105,[negroni] Completed 0  in 197ms,"['[', 'negroni', ']', 'Completed', '0', 'in', '197', 'ms']","['OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OCTAL_LITERAL', 'IDENTIFIER', 'DECIMAL_LITERAL', 'IDENTIFIER']"
106,PASS,['PASS'],['IDENTIFIER']
107,ok      project/testing/account_test 0.664s,"['ok', 'project/testing/account_test', '0', '.', '664', 's']","['IDENTIFIER', 'DIRECTORY', 'OCTAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'IDENTIFIER']"
108,PS D:\gocode\src\project\testing\account_test> go test -race,"['PS', 'D', ':', 'go', 'code', 'src', 'project', 'testing', 'account_test', '>', 'go', 'test', '-', 'race']","['IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
109,2015/02/03 15:08:10 vs.go:50: Connect to neo4j db.,"['2015/02/03', '15', ':', '0', '8', ':', '10', 'vs', '.', 'go', ':', '50', ':', 'Connect', 'to', 'neo4j', 'db', '.']","['DIRECTORY', 'DECIMAL_LITERAL', 'OPERATOR', 'OCTAL_LITERAL', 'DECIMAL_LITERAL', 'OPERATOR', 'DECIMAL_LITERAL', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR']"
110,[negroni] Started POST /user,"['[', 'negroni', ']', 'Started', 'POST', 'user']","['OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER']"
111,==================,['=================='],['OPERATOR']
112,WARNING: DATA RACE,"['WARNING', ':', 'DATA', 'RACE']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER']"
113,Write by goroutine 18:,"['Write', 'by', 'go', 'routine', '18', ':']","['IDENTIFIER', 'IDENTIFIER', 'KEYWORD', 'IDENTIFIER', 'DECIMAL_LITERAL', 'OPERATOR']"
114,  net/http.(*response).Header(),['net/http.(*response).Header()'],['DIRECTORY']
115,      c:/go/src/net/http/server.go:615 +0x11a,"['c:/go/src/net/http/server.go:615', '+', '0x11a']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
116,  github.com/codegangsta/negroni.(*responseWriter).Header(),['github.com/codegangsta/negroni.(*responseWriter).Header()'],['DIRECTORY']
117,      :42 +0x78,"[':', '42', '+', '0x78']","['OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'HEX_LITERAL']"
118,  project/middlewares/session.(*ctrl).setHttpHeader(),['project/middlewares/session.(*ctrl).setHttpHeader()'],['DIRECTORY']
119,      D:/gocode/src/project/middlewares/session/ctrl.go:76 +0x68,"['D:/gocode/src/project/middlewares/session/ctrl.go:76', '+', '0x68']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
120,  project/middlewares/session.(*ctrl).evaluateJwt(),['project/middlewares/session.(*ctrl).evaluateJwt()'],['DIRECTORY']
121,      D:/gocode/src/project/middlewares/session/ctrl.go:56 +0x31a,"['D:/gocode/src/project/middlewares/session/ctrl.go:56', '+', '0x31a']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
122,  project/middlewares/session.(*ctrl).serveHttp(),['project/middlewares/session.(*ctrl).serveHttp()'],['DIRECTORY']
123,      D:/gocode/src/project/middlewares/session/ctrl.go:94 +0x8a,"['D:/gocode/src/project/middlewares/session/ctrl.go:94', '+', '0x8a']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
124,  project/middlewares/session.func┬À006(),['project/middlewares/session.func┬À006()'],['DIRECTORY']
125,      D:/gocode/src/project/middlewares/session/serve_http.go:23 +0x,"['D:/gocode/src/project/middlewares/session/serve_http.go:23', '+', '0', 'x']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL', 'IDENTIFIER']"
126,Previous write by goroutine 17:,"['Previous', 'write', 'by', 'go', 'routine', '17', ':']","['IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'KEYWORD', 'IDENTIFIER', 'DECIMAL_LITERAL', 'OPERATOR']"
127,  net/http.(*response).Header(),['net/http.(*response).Header()'],['DIRECTORY']
128,      c:/go/src/net/http/server.go:615 +0x11a,"['c:/go/src/net/http/server.go:615', '+', '0x11a']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
129,  github.com/codegangsta/negroni.(*responseWriter).Header(),['github.com/codegangsta/negroni.(*responseWriter).Header()'],['DIRECTORY']
130,      :42 +0x78,"[':', '42', '+', '0x78']","['OPERATOR', 'DECIMAL_LITERAL', 'OPERATOR', 'HEX_LITERAL']"
131,  github.com/unrolled/secure.(*Secure).Process(),['github.com/unrolled/secure.(*Secure).Process()'],['DIRECTORY']
132,      D:/gocode/src/github.com/unrolled/secure/secure.go:177 +0xe24,"['D:/gocode/src/github.com/unrolled/secure/secure.go:177', '+', '0xe24']","['DIRECTORY', 'OPERATOR', 'HEX_LITERAL']"
133,  project/middlewares/security.func┬À001(),['project/middlewares/security.func┬À001()'],['DIRECTORY']
134,      D:/gocode/src/project/middlewares/security/serve_http.go:33 +0,"['D:/gocode/src/project/middlewares/security/serve_http.go:33', '+', '0']","['DIRECTORY', 'OPERATOR', 'OCTAL_LITERAL']"
135,"

I use negroni to process middlwares works. 

The way, how I process middlwares

","['I', 'use', 'negroni', 'to', 'process', 'middlwares', 'works.', 'The', 'way,', 'how', 'I', 'process', 'middlwares']","['PRP', 'VBP', 'JJ', 'TO', 'VB', 'NNS', 'VBP', 'DT', 'NN', 'WRB', 'PRP', 'VBP', 'NNS']"
136,"func New(res http.ResponseWriter, req *http.Request, next http.HandlerFunc) {","['func', 'New', '(', 'res', 'http', '.', 'ResponseWriter', ',', 'req', '*', 'http', '.', 'Request', ',', 'next', 'http', '.', 'HandlerFunc', ')', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR']"
137,"    if err := process(security.ServeHttp(res, req), session.ServeHttp(res, req)); err != nil {","['if', 'err', ':=', 'process', '(', 'security.ServeHttp(res, req), session.ServeHttp(res, req))', ';', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'FUNCTION_CALL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
138,        res.WriteHeader(http.StatusInternalServerError),['res.WriteHeader(http.StatusInternalServerError)'],['FUNCTION_CALL']
139,        return,['return'],['KEYWORD']
140,    },['}'],['OPERATOR']
141,"    log.Println(""End of process middlewares"")","['log.Println(""End of process middlewares"")']",['FUNCTION_CALL']
142,"    next(res, req)","['next', '(', 'res', ',', 'req', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
143,},['}'],['OPERATOR']
144,// Process all middlewares,"['//', 'Process', 'all', 'middlewares']","['COMMENT', 'NNP', 'DT', 'NNS']"
145,func process(chErrs ...<-chan error) error {,"['func', 'process', '(', 'chErrs', '...<-', 'chan', 'error', ')', 'error', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
146,"    for _, chErr := range chErrs {","['for', '_', ',', 'chErr', ':=', 'range', 'chErrs', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'KEYWORD', 'IDENTIFIER', 'OPERATOR']"
147,"        // Will abort the loop, when error occurs","['//', 'Will', 'abort', 'the', 'loop,', 'when', 'error', 'occurs']","['COMMENT', 'MD', 'VB', 'DT', 'NN', 'WRB', 'NN', 'VBZ']"
148,        if err := <-chErr; err != nil {,"['if', 'err', ':=', '<-', 'chErr', ';', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
149,            return err,"['return', 'err']","['KEYWORD', 'IDENTIFIER']"
150,        },['}'],['OPERATOR']
151,    },['}'],['OPERATOR']
152,    return nil,"['return', 'nil']","['KEYWORD', 'IDENTIFIER']"
153,},['}'],['OPERATOR']
154,"

As you can see, every middlware have they own channel. The for statement will loop until the error channel is closed or error send.

The server configuration

","['As', 'you', 'can', 'see,', 'every', 'middlware', 'have', 'they', 'own', 'channel.', 'The', 'for', 'statement', 'will', 'loop', 'until', 'the', 'error', 'channel', 'is', 'closed', 'or', 'error', 'send.', 'The', 'server', 'configuration']","['IN', 'PRP', 'MD', 'VB', 'DT', 'NN', 'VBP', 'PRP', 'JJ', 'VBP', 'DT', 'IN', 'NN', 'MD', 'VB', 'IN', 'DT', 'NN', 'NN', 'VBZ', 'VBN', 'CC', 'NN', 'VBP', 'DT', 'NN', 'NN']"
155,func Config() *negroni.Negroni {,"['func', 'Config', '()', '*', 'negroni', '.', 'Negroni', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
156,    n := negroni.Classic(),"['n', ':=', 'negroni.Classic()']","['IDENTIFIER', 'OPERATOR', 'FUNCTION_CALL']"
157,    n.Use(negroni.HandlerFunc(middlewares.New)),['n.Use(negroni.HandlerFunc(middlewares.New))'],['FUNCTION_CALL']
158,    n.UseHandler(routes.Set()),['n.UseHandler(routes.Set())'],['FUNCTION_CALL']
159,    return n,"['return', 'n']","['KEYWORD', 'IDENTIFIER']"
160,},['}'],['OPERATOR']
161,"

My question is, are the middlewares the reason, why I've got the data race?
","['My', 'question', 'is,', 'are', 'the', 'middlewares', 'the', 'reason,', 'why', ""I've"", 'got', 'the', 'data', 'race?']","['PRP$', 'NN', 'NN', 'VBP', 'DT', 'NNS', 'DT', 'NN', 'WRB', 'NNP', 'VBD', 'DT', 'NNS', 'NN']"
