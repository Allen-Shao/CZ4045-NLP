,text,token,annotation
0,"I was trying to refactor some Go code and ran into an issue. My original server was just one file similar to this. 

","['I', 'was', 'trying', 'to', 'refactor', 'some', 'Go', 'code', 'and', 'ran', 'into', 'an', 'issue.', 'My', 'original', 'server', 'was', 'just', 'one', 'file', 'similar', 'to', 'this.']","['PRP', 'VBD', 'VBG', 'TO', 'VB', 'DT', 'NNP', 'NN', 'CC', 'VBD', 'IN', 'DT', 'JJ', 'NNP', 'JJ', 'NN', 'VBD', 'RB', 'CD', 'NN', 'JJ', 'TO', 'VB']"
1,package main,"['package', 'main']","['KEYWORD', 'IDENTIFIER']"
2,import (,"['import', '(']","['KEYWORD', 'PUNCTUATION']"
3,"    ""net/http""","['""net/http""']",['STRING_LITERAL']
4,"    ""strings""","['""strings""']",['STRING_LITERAL']
5,"    ""google.golang.org/appengine""","['""google.golang.org/appengine""']",['STRING_LITERAL']
6,"    ""google.golang.org/appengine/urlfetch""","['""google.golang.org/appengine/urlfetch""']",['STRING_LITERAL']
7,"    ""github.com/tdewolff/minify/json""","['""github.com/tdewolff/minify/json""']",['STRING_LITERAL']
8,"    ""github.com/tdewolff/minify""","['""github.com/tdewolff/minify""']",['STRING_LITERAL']
9,),[')'],['PUNCTUATION']
10,func reactFileServer(fs http.Handler) http.Handler {,"['func', 'reactFileServer', '(', 'fs', 'http', '.', 'Handler', ')', 'http', '.', 'Handler', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
11,"    fn := func(w http.ResponseWriter, req *http.Request) {","['fn', ':=', 'func', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'req', '*', 'http', '.', 'Request', ')', '{']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
12,        staticPaths := [...]string{,"['staticPaths', ':=', '[...]', 'string', '{']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
13,"            ""/static/"",","['""/static/""', ',']","['STRING_LITERAL', 'PUNCTUATION']"
14,"            ""/img/"",","['""/img/""', ',']","['STRING_LITERAL', 'PUNCTUATION']"
15,        },['}'],['PUNCTUATION']
16,        var isStaticPath bool = false,"['var', 'isStaticPath', 'bool', '=', 'false']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'BOOLEAN_LITERAL']"
17,"        for _, path := range staticPaths {","['for', '_', ',', 'path', ':=', 'range', 'staticPaths', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'IDENTIFIER', 'PUNCTUATION']"
18,"            if strings.HasPrefix(req.URL.Path, path) {","['if', 'strings.HasPrefix(req.URL.Path, path)', '{']","['KEYWORD', 'FUNCTION_CALL', 'PUNCTUATION']"
19,                isStaticPath = true,"['isStaticPath', '=', 'true']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'BOOLEAN_LITERAL']"
20,                break,['break'],['KEYWORD']
21,            },['}'],['PUNCTUATION']
22,        },['}'],['PUNCTUATION']
23,        if isStaticPath {,"['if', 'isStaticPath', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION']"
24,"            fs.ServeHTTP(w, req)","['fs.ServeHTTP(w, req)']",['FUNCTION_CALL']
25,        } else {,"['}', 'else', '{']","['PUNCTUATION', 'KEYWORD', 'PUNCTUATION']"
26,"            fsHandler := http.StripPrefix(req.URL.Path, fs)","['fsHandler', ':=', 'http.StripPrefix(req.URL.Path, fs)']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
27,"            fsHandler.ServeHTTP(w, req)","['fsHandler.ServeHTTP(w, req)']",['FUNCTION_CALL']
28,        },['}'],['PUNCTUATION']
29,    },['}'],['PUNCTUATION']
30,    return http.HandlerFunc(fn),"['return', 'http.HandlerFunc(fn)']","['KEYWORD', 'FUNCTION_CALL']"
31,},['}'],['PUNCTUATION']
32,func getGooglePlaceInfo() http.Handler {,"['func', 'getGooglePlaceInfo', '()', 'http', '.', 'Handler', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
33,"    fn := func(w http.ResponseWriter, req *http.Request) {","['fn', ':=', 'func', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'req', '*', 'http', '.', 'Request', ')', '{']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
34,        ctx := appengine.NewContext(req),"['ctx', ':=', 'appengine.NewContext(req)']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
35,        client := urlfetch.Client(ctx),"['client', ':=', 'urlfetch.Client(ctx)']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
36,"        resp, err := client.Get(","['resp', ',', 'err', ':=', 'client', '.', 'Get', '(']","['IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
37,"            ""https://maps.googleapis.com/maps/api/place/details/json"" +","['""https://maps.googleapis.com/maps/api/place/details/json""', '+']","['STRING_LITERAL', 'ARITHMETIC_OPERATOR']"
38,"                ""?placeid=[REMOVED]"" +","['""?placeid=[REMOVED]""', '+']","['STRING_LITERAL', 'ARITHMETIC_OPERATOR']"
39,"                ""&key=[REMOVED]"")","['""&key=[REMOVED]""', ')']","['STRING_LITERAL', 'PUNCTUATION']"
40,        if err != nil {,"['if', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'RELATION_OPERATOR', 'IDENTIFIER', 'PUNCTUATION']"
41,"            http.Error(w, err.Error(), http.StatusInternalServerError)","['http.Error(w, err.Error(), http.StatusInternalServerError)']",['FUNCTION_CALL']
42,            return,['return'],['KEYWORD']
43,        },['}'],['PUNCTUATION']
44,"        w.Header().Set(""Content-Type"", ""application/json"")","['w.Header().Set(""Content-Type"", ""application/json"")']",['FUNCTION_CALL']
45,        m := minify.New(),"['m', ':=', 'minify.New()']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
46,"        json.Minify(m, w, resp.Body, nil)","['json.Minify(m, w, resp.Body, nil)']",['FUNCTION_CALL']
47,    },['}'],['PUNCTUATION']
48,    return http.HandlerFunc(fn),"['return', 'http.HandlerFunc(fn)']","['KEYWORD', 'FUNCTION_CALL']"
49,},['}'],['PUNCTUATION']
50,func init() {,"['func', 'init', '()', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
51,"    fs := http.FileServer(http.Dir(""web""))","['fs', ':=', 'http.FileServer(http.Dir(""web""))']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
52,"    http.Handle(""/"", reactFileServer(fs))","['http.Handle(""/"", reactFileServer(fs))']",['FUNCTION_CALL']
53,"    http.Handle(""/services/google-places-info/"", getGooglePlaceInfo())","['http.Handle(""/services/google-places-info/"", getGooglePlaceInfo())']",['FUNCTION_CALL']
54,},['}'],['PUNCTUATION']
55,"

I tried to refactor the code by moving the getGooglePlaceInfo function into it's own file. When I do that I get the following error.

","['I', 'tried', 'to', 'refactor', 'the', 'code', 'by', 'moving', 'the', 'getGooglePlaceInfo', 'function', 'into', ""it's"", 'own', 'file.', 'When', 'I', 'do', 'that', 'I', 'get', 'the', 'following', 'error.']","['PRP', 'VBD', 'TO', 'VB', 'DT', 'NN', 'IN', 'VBG', 'DT', 'NN', 'NN', 'IN', 'JJ', 'JJ', 'NN', 'WRB', 'PRP', 'VBP', 'DT', 'PRP', 'VBP', 'DT', 'JJ', 'NN']"
56,ERROR: (gcloud.app.deploy) Error Response: [9] Deployment contains files that cannot be compiled: Compile failed:,"['ERROR', ':', '(', 'gcloud', '.', 'app', '.', 'deploy', ')', 'Error', 'Response', ':', '[', '9', ']', 'Deployment', 'contains', 'files', 'that', 'cannot', 'be', 'compiled', ':', 'Compile', 'failed', ':']","['IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION', 'DECIMAL_LITERAL', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION']"
57,"2017/07/20 17:01:47 go-app-builder: build timing: 2├ùcompile (213ms total), 0├ùlink (0s total)","['2017/07/20', '17', ':', '01', ':', '47', 'go', '-', 'app', '-', 'builder', ':', 'build', 'timing', ':', '2', 'compile', '(', '213', 'ms', 'total', '),', '0', 'link', '(', '0', 's', 'total', ')']","['DIRECTORY', 'DECIMAL_LITERAL', 'PUNCTUATION', 'OCTAL_LITERAL', 'PUNCTUATION', 'DECIMAL_LITERAL', 'KEYWORD', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'DECIMAL_LITERAL', 'IDENTIFIER', 'PUNCTUATION', 'DECIMAL_LITERAL', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'OCTAL_LITERAL', 'IDENTIFIER', 'PUNCTUATION', 'OCTAL_LITERAL', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION']"
58,2017/07/20 17:01:47 go-app-builder: failed running compile: exit status 2,"['2017/07/20', '17', ':', '01', ':', '47', 'go', '-', 'app', '-', 'builder', ':', 'failed', 'running', 'compile', ':', 'exit', 'status', '2']","['DIRECTORY', 'DECIMAL_LITERAL', 'PUNCTUATION', 'OCTAL_LITERAL', 'PUNCTUATION', 'DECIMAL_LITERAL', 'KEYWORD', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'DECIMAL_LITERAL']"
59,"services/google-places-info.go:5: can't find import: ""google.golang.org/appengine""","['services/google-places-info.go:5: can\'t find import: ""google.golang.org/appengine""']",['DIRECTORY']
60,"

Here's the code that's getting the error

/main.go

","[""Here's"", 'the', 'code', ""that's"", 'getting', 'the', 'error', '/main.go']","['NNP', 'DT', 'NN', 'IN', 'VBG', 'DT', 'NN', 'NN']"
61,package main,"['package', 'main']","['KEYWORD', 'IDENTIFIER']"
62,import (,"['import', '(']","['KEYWORD', 'PUNCTUATION']"
63,"    ""net/http""","['""net/http""']",['STRING_LITERAL']
64,"    ""strings""","['""strings""']",['STRING_LITERAL']
65,),[')'],['PUNCTUATION']
66,func reactFileServer(fs http.Handler) http.Handler {,"['func', 'reactFileServer', '(', 'fs', 'http', '.', 'Handler', ')', 'http', '.', 'Handler', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
67,"    fn := func(w http.ResponseWriter, req *http.Request) {","['fn', ':=', 'func', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'req', '*', 'http', '.', 'Request', ')', '{']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
68,        staticPaths := [...]string{,"['staticPaths', ':=', '[...]', 'string', '{']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
69,"            ""/static/"",","['""/static/""', ',']","['STRING_LITERAL', 'PUNCTUATION']"
70,"            ""/img/"",","['""/img/""', ',']","['STRING_LITERAL', 'PUNCTUATION']"
71,        },['}'],['PUNCTUATION']
72,        var isStaticPath bool = false,"['var', 'isStaticPath', 'bool', '=', 'false']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'BOOLEAN_LITERAL']"
73,"        for _, path := range staticPaths {","['for', '_', ',', 'path', ':=', 'range', 'staticPaths', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'IDENTIFIER', 'PUNCTUATION']"
74,"            if strings.HasPrefix(req.URL.Path, path) {","['if', 'strings.HasPrefix(req.URL.Path, path)', '{']","['KEYWORD', 'FUNCTION_CALL', 'PUNCTUATION']"
75,                isStaticPath = true,"['isStaticPath', '=', 'true']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'BOOLEAN_LITERAL']"
76,                break,['break'],['KEYWORD']
77,            },['}'],['PUNCTUATION']
78,        },['}'],['PUNCTUATION']
79,        if isStaticPath {,"['if', 'isStaticPath', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION']"
80,"            fs.ServeHTTP(w, req)","['fs.ServeHTTP(w, req)']",['FUNCTION_CALL']
81,        } else {,"['}', 'else', '{']","['PUNCTUATION', 'KEYWORD', 'PUNCTUATION']"
82,"            fsHandler := http.StripPrefix(req.URL.Path, fs)","['fsHandler', ':=', 'http.StripPrefix(req.URL.Path, fs)']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
83,"            fsHandler.ServeHTTP(w, req)","['fsHandler.ServeHTTP(w, req)']",['FUNCTION_CALL']
84,        },['}'],['PUNCTUATION']
85,    },['}'],['PUNCTUATION']
86,    return http.HandlerFunc(fn),"['return', 'http.HandlerFunc(fn)']","['KEYWORD', 'FUNCTION_CALL']"
87,},['}'],['PUNCTUATION']
88,func init() {,"['func', 'init', '()', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
89,"    fs := http.FileServer(http.Dir(""web""))","['fs', ':=', 'http.FileServer(http.Dir(""web""))']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
90,"    http.Handle(""/"", reactFileServer(fs))","['http.Handle(""/"", reactFileServer(fs))']",['FUNCTION_CALL']
91,},['}'],['PUNCTUATION']
92,"

/services/google-places-info.go

",['/services/google-places-info.go'],['NN']
93,package services,"['package', 'services']","['KEYWORD', 'IDENTIFIER']"
94,import (,"['import', '(']","['KEYWORD', 'PUNCTUATION']"
95,"    ""net/http""","['""net/http""']",['STRING_LITERAL']
96,"    ""google.golang.org/appengine""","['""google.golang.org/appengine""']",['STRING_LITERAL']
97,"    ""google.golang.org/appengine/urlfetch""","['""google.golang.org/appengine/urlfetch""']",['STRING_LITERAL']
98,"    ""github.com/tdewolff/minify""","['""github.com/tdewolff/minify""']",['STRING_LITERAL']
99,"    ""github.com/tdewolff/minify/json""","['""github.com/tdewolff/minify/json""']",['STRING_LITERAL']
100,),[')'],['PUNCTUATION']
101,func getGooglePlaceInfo() http.Handler {,"['func', 'getGooglePlaceInfo', '()', 'http', '.', 'Handler', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
102,"    fn := func(w http.ResponseWriter, req *http.Request) {","['fn', ':=', 'func', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'req', '*', 'http', '.', 'Request', ')', '{']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
103,        ctx := appengine.NewContext(req),"['ctx', ':=', 'appengine.NewContext(req)']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
104,        client := urlfetch.Client(ctx),"['client', ':=', 'urlfetch.Client(ctx)']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
105,"        resp, err := client.Get(","['resp', ',', 'err', ':=', 'client', '.', 'Get', '(']","['IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
106,"            ""https://maps.googleapis.com/maps/api/place/details/json"" +","['""https://maps.googleapis.com/maps/api/place/details/json""', '+']","['STRING_LITERAL', 'ARITHMETIC_OPERATOR']"
107,"                ""?placeid=[REMOVED]"" +","['""?placeid=[REMOVED]""', '+']","['STRING_LITERAL', 'ARITHMETIC_OPERATOR']"
108,"                ""&key=[REMOVED]"")","['""&key=[REMOVED]""', ')']","['STRING_LITERAL', 'PUNCTUATION']"
109,        if err != nil {,"['if', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'RELATION_OPERATOR', 'IDENTIFIER', 'PUNCTUATION']"
110,"            http.Error(w, err.Error(), http.StatusInternalServerError)","['http.Error(w, err.Error(), http.StatusInternalServerError)']",['FUNCTION_CALL']
111,            return,['return'],['KEYWORD']
112,        },['}'],['PUNCTUATION']
113,"        w.Header().Set(""Content-Type"", ""application/json"")","['w.Header().Set(""Content-Type"", ""application/json"")']",['FUNCTION_CALL']
114,        m := minify.New(),"['m', ':=', 'minify.New()']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
115,"        json.Minify(m, w, resp.Body, nil)","['json.Minify(m, w, resp.Body, nil)']",['FUNCTION_CALL']
116,    },['}'],['PUNCTUATION']
117,    return http.HandlerFunc(fn),"['return', 'http.HandlerFunc(fn)']","['KEYWORD', 'FUNCTION_CALL']"
118,},['}'],['PUNCTUATION']
119,func init() {,"['func', 'init', '()', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
120,"    http.Handle(""/services/google-places-info/"", getGooglePlaceInfo())","['http.Handle(""/services/google-places-info/"", getGooglePlaceInfo())']",['FUNCTION_CALL']
121,},['}'],['PUNCTUATION']
122,"

I've put up the example on github.

https://github.com/bensisson/google-app-engine-bug-example
","[""I've"", 'put', 'up', 'the', 'example', 'on', 'github.', 'https://github.com/bensisson/google-app-engine-bug-example']","['NNP', 'VBD', 'RP', 'DT', 'NN', 'IN', 'NN', 'NN']"
