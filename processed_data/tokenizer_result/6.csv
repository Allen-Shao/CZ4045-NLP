,text,token
0,"I'm getting the following response, when trying to upload data to BigQuery using the Google API Client libraries for Go.

","[""I'm"", 'getting', 'the', 'following', 'response,', 'when', 'trying', 'to', 'upload', 'data', 'to', 'BigQuery', 'using', 'the', 'Google', 'API', 'Client', 'libraries', 'for', 'Go.']"
1,{,['{']
2," ""error"": {","['""error""', ':', '{']"
3,"  ""errors"": [","['""errors""', ':', '[']"
4,   {,['{']
5,"    ""domain"": ""global"",","['""domain"": ""global""', ',']"
6,"    ""reason"": ""badRequest"",","['""reason"": ""badRequest""', ',']"
7,"    ""message"": ""Invalid Upload Request""","['""message"": ""Invalid Upload Request""']"
8,   },['}']
9,"  ],","['],']"
10,"  ""code"": 400,","['""code""', ':', '400', ',']"
11,"  ""message"": ""Invalid Upload Request""","['""message"": ""Invalid Upload Request""']"
12, },['}']
13,},['}']
14,"

My job descriptor looks like this:

","['My', 'job', 'descriptor', 'looks', 'like', 'this:']"
15,j := &bigquery.Job{,"['j', ':=', '&', 'bigquery', '.', 'Job', '{']"
16,    Configuration: &bigquery.JobConfiguration{,"['Configuration', ':', '&', 'bigquery', '.', 'JobConfiguration', '{']"
17,        Load: &bigquery.JobConfigurationLoad{,"['Load', ':', '&', 'bigquery', '.', 'JobConfigurationLoad', '{']"
18,            DestinationTable: &bigquery.TableReference{,"['DestinationTable', ':', '&', 'bigquery', '.', 'TableReference', '{']"
19,"                projectId,","['projectId', ',']"
20,"                ""xyz"",","['""xyz""', ',']"
21,"                name + ""_"" + yyyymmdd,","['name', '+', '""_""', '+', 'yyyymmdd', ',']"
22,"            },","['},']"
23,"            SkipLeadingRows: 1,","['SkipLeadingRows', ':', '1', ',']"
24,"            FieldDelimiter:  ""|"",","['FieldDelimiter', ':', '""|""', ',']"
25,"            MaxBadRecords:   3,","['MaxBadRecords', ':', '3', ',']"
26,            Schema: &bigquery.TableSchema{,"['Schema', ':', '&', 'bigquery', '.', 'TableSchema', '{']"
27,                []*bigquery.TableFieldSchema{,"['[]*', 'bigquery', '.', 'TableFieldSchema', '{']"
28,"                    {Name: ""f1"", Type: ""STRING""},","['{', 'Name', ':', '""f1"", Type: ""STRING""', '},']"
29,"                    {Name: ""f2"", Type: ""STRING""},","['{', 'Name', ':', '""f2"", Type: ""STRING""', '},']"
30,"                    {Name: ""f3"", Type: ""STRING""},","['{', 'Name', ':', '""f3"", Type: ""STRING""', '},']"
31,"                    {Name: ""f4"", Type: ""STRING""},","['{', 'Name', ':', '""f4"", Type: ""STRING""', '},']"
32,"                    {Name: ""f5"", Type: ""STRING""},","['{', 'Name', ':', '""f5"", Type: ""STRING""', '},']"
33,"                    {Name: ""f6"", Type: ""STRING""},","['{', 'Name', ':', '""f6"", Type: ""STRING""', '},']"
34,"                    {Name: ""f7"", Type: ""STRING""},","['{', 'Name', ':', '""f7"", Type: ""STRING""', '},']"
35,"                    {Name: ""f8"", Type: ""STRING""},","['{', 'Name', ':', '""f8"", Type: ""STRING""', '},']"
36,"                    {Name: ""f9"", Type: ""STRING""},","['{', 'Name', ':', '""f9"", Type: ""STRING""', '},']"
37,"                    {Name: ""f10"", Type: ""STRING""},","['{', 'Name', ':', '""f10"", Type: ""STRING""', '},']"
38,"                    {Name: ""f11"", Type: ""STRING""},","['{', 'Name', ':', '""f11"", Type: ""STRING""', '},']"
39,"                    {Name: ""f12"", Type: ""STRING""},","['{', 'Name', ':', '""f12"", Type: ""STRING""', '},']"
40,"                    {Name: ""f13"", Type: ""STRING""},","['{', 'Name', ':', '""f13"", Type: ""STRING""', '},']"
41,"                    {Name: ""f14"", Type: ""STRING""},","['{', 'Name', ':', '""f14"", Type: ""STRING""', '},']"
42,"                    {Name: ""f15"", Type: ""STRING""},","['{', 'Name', ':', '""f15"", Type: ""STRING""', '},']"
43,"                    {Name: ""f16"", Type: ""STRING""},","['{', 'Name', ':', '""f16"", Type: ""STRING""', '},']"
44,"                    {Name: ""f17"", Type: ""STRING""},","['{', 'Name', ':', '""f17"", Type: ""STRING""', '},']"
45,"                },","['},']"
46,"            },","['},']"
47,"        },","['},']"
48,"    },","['},']"
49,},['}']
50,"

FWIW, other calls using this library work fine, so I have ruled out oauth problems, etc.

EDIT: I captured the request before it went out.  Please note that this is before the http.Client is able to add the oauth headers.  The actual request is large, so I have shortened it and removed the identifiers.

","['FWIW,', 'other', 'calls', 'using', 'this', 'library', 'work', 'fine,', 'so', 'I', 'have', 'ruled', 'out', 'oauth', 'problems,', 'etc.', 'EDIT:', 'I', 'captured', 'the', 'request', 'before', 'it', 'went', 'out.', 'Please', 'note', 'that', 'this', 'is', 'before', 'the', 'http.Client', 'is', 'able', 'to', 'add', 'the', 'oauth', 'headers.', 'The', 'actual', 'request', 'is', 'large,', 'so', 'I', 'have', 'shortened', 'it', 'and', 'removed', 'the', 'identifiers.']"
51,POST /upload/bigquery/v2/projects/.../jobs HTTP/1.1,"['POST', 'upload', 'bigquery', 'v2', 'projects', '...', 'jobs', 'HTTP', '1', '.', '1']"
52,Host: www.googleapis.com,"['Host', ':', 'www', '.', 'go', 'ogleapis', '.', 'com']"
53,User-Agent: google-api-go-client/0.5,"['User', '-', 'Agent', ':', 'go', 'ogle', '-', 'api', '-', 'go', '-', 'client', '0', '.', '5']"
54,Content-Length: 56369074,"['Content', '-', 'Length', ':', '56369074']"
55,Content-Type: multipart/related; boundary=2220cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf,"['Content', '-', 'Type', ':', 'multipart', 'related', ';', 'boundary', '=', '2220', 'cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf']"
56,--2220cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf,"['--', '2220', 'cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf']"
57,Content-Type: application/json,"['Content', '-', 'Type', ':', 'application', 'json']"
58,"{""configuration"":{""load"":{""destinationTable"":{""projectId"":""..."",""datasetId"":""..."",""tableId"":""...""},""skipLeadingRows"":1,""fieldDelimiter"":""|"",""maxBadRecords"":3,""schema"":{""fields"":[{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""}]}}}}","['{', '""configuration"":{""load"":{""destinationTable"":{""projectId"":""..."",""datasetId"":""..."",""tableId"":""...""},""skipLeadingRows"":1,""fieldDelimiter"":""|"",""maxBadRecords"":3,""schema"":{""fields"":[{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""},{""name"":""..."",""type"":""STRING""', '}]}}}}']"
59,--2220cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf,"['--', '2220', 'cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf']"
60,Content-Type: text/plain; charset=utf-8,"['Content', '-', 'Type', ':', 'text', 'plain', ';', 'charset', '=', 'utf', '-', '8']"
61,H0|H1|H2|H3|H4|H5|H6|H7|H8|H9|H10|H11|H12|H13|H14|H15|H16,"['H0', '|', 'H1', '|', 'H2', '|', 'H3', '|', 'H4', '|', 'H5', '|', 'H6', '|', 'H7', '|', 'H8', '|', 'H9', '|', 'H10', '|', 'H11', '|', 'H12', '|', 'H13', '|', 'H14', '|', 'H15', '|', 'H16']"
62,f0_0|f0_1|f0_2|f0_3|f0_4|f0_5|f0_6|f0_7|f0_8|f0_9|f0_10|f0_11|f0_12|f0_13|f0_14|f0_15|f0_16,"['f0_0', '|', 'f0_1', '|', 'f0_2', '|', 'f0_3', '|', 'f0_4', '|', 'f0_5', '|', 'f0_6', '|', 'f0_7', '|', 'f0_8', '|', 'f0_9', '|', 'f0_10', '|', 'f0_11', '|', 'f0_12', '|', 'f0_13', '|', 'f0_14', '|', 'f0_15', '|', 'f0_16']"
63,f1_0|f1_1|f1_2|f1_3|f1_4|f1_5|f1_6|f1_7|f1_8|f1_9|f1_10|f1_11|f1_12|f1_13|f1_14|f1_15|f1_16,"['f1_0', '|', 'f1_1', '|', 'f1_2', '|', 'f1_3', '|', 'f1_4', '|', 'f1_5', '|', 'f1_6', '|', 'f1_7', '|', 'f1_8', '|', 'f1_9', '|', 'f1_10', '|', 'f1_11', '|', 'f1_12', '|', 'f1_13', '|', 'f1_14', '|', 'f1_15', '|', 'f1_16']"
64,# Three lines,"['Three', 'lines']"
65,# of comments,"['of', 'comments']"
66,# in the trailer,"['in', 'the', 'trailer']"
67,--2220cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf--,"['--', '2220', 'cacc03485c8143026fe3f0c40dcb1aaec8c8c2426e69adf620fc12cf', '--']"
