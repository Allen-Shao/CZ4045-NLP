,text,token,annotation
0,"type authHandler func(http.ResponseWriter, *http.Request, context.Context) *appError","['type', 'authHandler', 'func', '(', 'http', '.', 'ResponseWriter', ',', '*', 'http', '.', 'Request', ',', 'context', '.', 'Context', ')', '*', 'appError']","['keyword', 'identifier', 'keyword', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'identifier']"
1,"func (fn authHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) {           ","['func', '(', 'fn', 'authHandler', ')', 'ServeHTTP', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'r', '*', 'http', '.', 'Request', ')', '{']","['keyword', 'operator', 'identifier', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator']"
2,    // setup authentication here                                                    ,['// setup authentication here                                                    '],"['comment', 'setup', 'authentication', 'here']"
3,    uid := 1                                                                        ,"['uid', ':=', '1']","['identifier', 'operator', 'decimal_literal']"
4,    // setup the context the way you want                                           ,['// setup the context the way you want                                           '],"['comment', 'setup', 'the', 'context', 'the', 'way', 'you', 'want']"
5,    parent := context.TODO()                                                        ,"['parent', ':=', 'context', '.', 'TODO', '()']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
6,"    ctx := context.WithValue(parent, userIdKey, uid)                                ","['ctx', ':=', 'context', '.', 'WithValue', '(', 'parent', ',', 'userIdKey', ',', 'uid', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
7,"    if e := fn(w, r, ctx); e != nil { // e is *appError, not os.Error.              ","['if', 'e', ':=', 'fn', '(', 'w', ',', 'r', ',', 'ctx', ');', 'e', '!=', 'nil', '{', '// e is *appError, not os.Error.              ']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'comment', 'e', 'is', '*appError', ',', 'not', 'os.Error', '.']"
8,"        http.Error(w, e.Message, e.Code)                                            ","['http', '.', 'Error', '(', 'w', ',', 'e', '.', 'Message', ',', 'e', '.', 'Code', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
9,    }                                                                               ,['}'],['operator']
10,},['}'],['operator']
