,text,token,annotation
0,package main,"['package', 'main']","['keyword', 'identifier']"
1,import (,"['import', '(']","['keyword', 'operator']"
2,"    ""errors""","['""errors""']",['string_literal']
3,"    ""fmt""","['""fmt""']",['string_literal']
4,"    ""os""","['""os""']",['string_literal']
5,"    ""os/exec""","['""os/exec""']",['string_literal']
6,"    ""regexp""","['""regexp""']",['string_literal']
7,"    ""strings""","['""strings""']",['string_literal']
8,"    ""github.com/codegangsta/cli""","['""github.com/codegangsta/cli""']",['string_literal']
9,"    ""github.com/puerkitobio/goquery""","['""github.com/puerkitobio/goquery""']",['string_literal']
10,),[')'],['operator']
11,const (,"['const', '(']","['keyword', 'operator']"
12,"    MainSite        = ""https://parahumans.wordpress.com/""","['MainSite', '=', '""https://parahumans.wordpress.com/""']","['identifier', 'operator', 'string_literal']"
13,"    TableOfContents = ""https://parahumans.wordpress.com/table-of-contents/""","['TableOfContents', '=', '""https://parahumans.wordpress.com/table-of-contents/""']","['identifier', 'operator', 'string_literal']"
14,),[')'],['operator']
15,type Arc struct {,"['type', 'Arc', 'struct', '{']","['keyword', 'identifier', 'keyword', 'operator']"
16,    Identifier string,"['Identifier', 'string']","['identifier', 'identifier']"
17,    Title      string,"['Title', 'string']","['identifier', 'identifier']"
18,    Chapters   []Chapter,"['Chapters', '[]', 'Chapter']","['identifier', 'operator', 'identifier']"
19,},['}'],['operator']
20,type Chapter struct {,"['type', 'Chapter', 'struct', '{']","['keyword', 'identifier', 'keyword', 'operator']"
21,    Title      string,"['Title', 'string']","['identifier', 'identifier']"
22,    Url        string,"['Url', 'string']","['identifier', 'identifier']"
23,    Tags       []string,"['Tags', '[]', 'string']","['identifier', 'operator', 'identifier']"
24,    Paragraphs []Paragraph,"['Paragraphs', '[]', 'Paragraph']","['identifier', 'operator', 'identifier']"
25,    Retries    int,"['Retries', 'int']","['identifier', 'identifier']"
26,    DatePosted string,"['DatePosted', 'string']","['identifier', 'identifier']"
27,},['}'],['operator']
28,type Paragraph string,"['type', 'Paragraph', 'string']","['keyword', 'identifier', 'identifier']"
29,// Format the paragraph,['// Format the paragraph'],"['comment', 'Format', 'the', 'paragraph']"
30,func (p *Paragraph) Format() {,"['func', '(', 'p', '*', 'Paragraph', ')', 'Format', '()', '{']","['keyword', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator']"
31,    s := string(*p),"['s', ':=', 'string', '(*', 'p', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
32,    // Handle emphasis,['// Handle emphasis'],"['comment', 'Handle', 'emphasis']"
33,"    s = strings.Replace(s, """", ""*"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""*""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
34,"    s = strings.Replace(s, """", ""*"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""*""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
35,"    s = strings.Replace(s, """", ""*"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""*""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
36,"    s = strings.Replace(s, """", ""*"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""*""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
37,    // Handle bold,['// Handle bold'],"['comment', 'Handle', 'bold']"
38,"    s = strings.Replace(s, """", ""**"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""**""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
39,"    s = strings.Replace(s, """", ""**"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""**""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
40,"    s = strings.Replace(s, """", ""**"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""**""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
41,"    s = strings.Replace(s, """", ""**"", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"""", ""**""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
42,    // Remove new lines,['// Remove new lines'],"['comment', 'Remove', 'new', 'lines']"
43,"    s = strings.Replace(s, ""\n"", """", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '""\\n"", """"', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
44,    // And random double spaces,['// And random double spaces'],"['comment', 'And', 'random', 'double', 'spaces']"
45,"    s = strings.Replace(s, "".  "", "". "", -1)","['s', '=', 'strings', '.', 'Replace', '(', 's', ',', '"".  "", "". ""', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
46,    *p = Paragraph(s),"['*', 'p', '=', 'Paragraph', '(', 's', ')']","['operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
47,},['}'],['operator']
48,// Return the Arc that the given chapter belongs to,['// Return the Arc that the given chapter belongs to'],"['comment', 'Return', 'the', 'Arc', 'that', 'the', 'given', 'chapter', 'belongs', 'to']"
49,"func (ch *Chapter) WhichArc(arcList []*Arc) (*Arc, error) {","['func', '(', 'ch', '*', 'Chapter', ')', 'WhichArc', '(', 'arcList', '[]*', 'Arc', ')', '(*', 'Arc', ',', 'error', ')', '{']","['keyword', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator']"
50,"    for _, arc := range arcList {","['for', '_', ',', 'arc', ':=', 'range', 'arcList', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator']"
51,"        if strings.Replace(ch.Title[:2], ""."", """", -1) == arc.Identifier {","['if', 'strings', '.', 'Replace', '(', 'ch', '.', 'Title', '[:', '2', '],', '""."", """"', ',', '-', '1', ')', '==', 'arc', '.', 'Identifier', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'decimal_literal', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
52,"            return arc, nil","['return', 'arc', ',', 'nil']","['keyword', 'identifier', 'operator', 'identifier']"
53,        },['}'],['operator']
54,    },['}'],['operator']
55,"    return &Arc{}, errors.New(""chapter '"" + ch.Title + ""' did not match any Arcs"")","['return', '&', 'Arc', '{},', 'errors', '.', 'New', '(', '""chapter \'"" + ch.Title + ""\' did not match any Arcs""', ')']","['keyword', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
56,},['}'],['operator']
57,// Parse a chapter and return it,['// Parse a chapter and return it'],"['comment', 'Parse', 'a', 'chapter', 'and', 'return', 'it']"
58,func (ch *Chapter) Parse(done chan bool) {,"['func', '(', 'ch', '*', 'Chapter', ')', 'Parse', '(', 'done', 'chan', 'bool', ')', '{']","['keyword', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'keyword', 'identifier', 'operator', 'operator']"
59,    if ch.Retries > 3 {,"['if', 'ch', '.', 'Retries', '>', '3', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'decimal_literal', 'operator']"
60,"        panic(""Chapter url '"" + ch.Url + ""' has timed out too many times"")","['panic', '(', '""Chapter url \'"" + ch.Url + ""\' has timed out too many times""', ')']","['identifier', 'operator', 'string_literal', 'operator']"
61,    },['}'],['operator']
62,    // Get the chapter,['// Get the chapter'],"['comment', 'Get', 'the', 'chapter']"
63,"    if strings.HasPrefix(ch.Url, ""http"") == false {","['if', 'strings', '.', 'HasPrefix', '(', 'ch', '.', 'Url', ',', '""http""', ')', '==', 'false', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'identifier', 'operator']"
64,        // Make sure it begins with http so goquery can use it,['// Make sure it begins with http so goquery can use it'],"['comment', 'Make', 'sure', 'it', 'begins', 'with', 'http', 'so', 'goquery', 'can', 'use', 'it']"
65,"        ch.Url = ""https://"" + ch.Url","['ch', '.', 'Url', '=', '""https://""', '+', 'ch', '.', 'Url']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'identifier']"
66,    },['}'],['operator']
67,"    doc, err := goquery.NewDocument(ch.Url)","['doc', ',', 'err', ':=', 'go', 'query', '.', 'NewDocument', '(', 'ch', '.', 'Url', ')']","['identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
68,    if err != nil {,"['if', 'err', '!=', 'nil', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator']"
69,        // Try again,['// Try again'],"['comment', 'Try', 'again']"
70,        ch.Retries++,"['ch', '.', 'Retries', '++']","['identifier', 'operator', 'identifier', 'operator']"
71,        go ch.Parse(done),"['go', 'ch', '.', 'Parse', '(', 'done', ')']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
72,        return,['return'],['keyword']
73,    },['}'],['operator']
74,    // Set the new chapter title,['// Set the new chapter title'],"['comment', 'Set', 'the', 'new', 'chapter', 'title']"
75,"    ch.Title = doc.Find(""h1.entry-title"").Text()","['ch', '.', 'Title', '=', 'doc', '.', 'Find', '(', '""h1.entry-title""', ').', 'Text', '()']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator']"
76,    // Set the tags,['// Set the tags'],"['comment', 'Set', 'the', 'tags']"
77,"    doc.Find("".entry-meta a[rel=tag]"").Each(func(_ int, s *goquery.Selection) {","['doc', '.', 'Find', '(', '"".entry-meta a[rel=tag]""', ').', 'Each', '(', 'func', '(', '_', 'int', ',', 's', '*', 'go', 'query', '.', 'Selection', ')', '{']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'keyword', 'operator', 'identifier', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'operator']"
78,"        ch.Tags = append(ch.Tags, s.Text())","['ch', '.', 'Tags', '=', 'append', '(', 'ch', '.', 'Tags', ',', 's', '.', 'Text', '())']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
79,        if len(ch.Tags) == 0 {,"['if', 'len', '(', 'ch', '.', 'Tags', ')', '==', '0', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'decimal_literal', 'operator']"
80,"            ch.Tags = append(ch.Tags, ""NONE"")","['ch', '.', 'Tags', '=', 'append', '(', 'ch', '.', 'Tags', ',', '""NONE""', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
81,        },['}'],['operator']
82,    }),['})'],['operator']
83,    // Get the date it was posted,['// Get the date it was posted'],"['comment', 'Get', 'the', 'date', 'it', 'was', 'posted']"
84,"    ch.DatePosted = doc.Find(""time.entry-date"").Text()","['ch', '.', 'DatePosted', '=', 'doc', '.', 'Find', '(', '""time.entry-date""', ').', 'Text', '()']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator']"
85,    // Now we'll get all the paragraphs,"[""// Now we'll get all the paragraphs""]","['comment', 'Now', 'we', ""'ll"", 'get', 'all', 'the', 'paragraphs']"
86,"    doc.Find("".entry-content > p"").Each(func(_ int, s *goquery.Selection) {","['doc', '.', 'Find', '(', '"".entry-content > p""', ').', 'Each', '(', 'func', '(', '_', 'int', ',', 's', '*', 'go', 'query', '.', 'Selection', ')', '{']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'keyword', 'operator', 'identifier', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'operator']"
87,        // Check for the previous/next links,['// Check for the previous/next links'],"['comment', 'Check', 'for', 'the', 'previous/next', 'links']"
88,"        if len(s.Find(""a"").Nodes) > 0 {","['if', 'len', '(', 's', '.', 'Find', '(', '""a""', ').', 'Nodes', ')', '>', '0', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'operator', 'decimal_literal', 'operator']"
89,            return,['return'],['keyword']
90,        },['}'],['operator']
91,        // Get the paragraph HTML,['// Get the paragraph HTML'],"['comment', 'Get', 'the', 'paragraph', 'HTML']"
92,"        st, _ := s.Html()","['st', ',', '_', ':=', 's', '.', 'Html', '()']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
93,"        para := Paragraph("""")","['para', ':=', 'Paragraph', '(', '""""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
94,        // Get the actual paragraph,['// Get the actual paragraph'],"['comment', 'Get', 'the', 'actual', 'paragraph']"
95,"        if val, exists := s.Attr(""padding-left""); exists && val == ""30px"" {","['if', 'val', ',', 'exists', ':=', 's', '.', 'Attr', '(', '""padding-left""); exists && val == ""30px""', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
96,            // Check to see if the paragraph is special (indented) block,['// Check to see if the paragraph is special (indented) block'],"['comment', 'Check', 'to', 'see', 'if', 'the', 'paragraph', 'is', 'special', '(', 'indented', ')', 'block']"
97,"            para = Paragraph(""    "" + st)","['para', '=', 'Paragraph', '(', '""    ""', '+', 'st', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator']"
98,"        } else if val, exists := s.Attr(""text-align""); exists && val == ""center"" {","['}', 'else', 'if', 'val', ',', 'exists', ':=', 's', '.', 'Attr', '(', '""text-align""); exists && val == ""center""', '{']","['operator', 'keyword', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
99,            // Otherwise check to see if it's a separator paragraph,"[""// Otherwise check to see if it's a separator paragraph""]","['comment', 'Otherwise', 'check', 'to', 'see', 'if', 'it', ""'s"", 'a', 'separator', 'paragraph']"
100,"            para = Paragraph(""----------"")","['para', '=', 'Paragraph', '(', '""----------""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
101,        } else {,"['}', 'else', '{']","['operator', 'keyword', 'operator']"
102,            // It's just a normal paragraph in this case,"[""// It's just a normal paragraph in this case""]","['comment', 'It', ""'s"", 'just', 'a', 'normal', 'paragraph', 'in', 'this', 'case']"
103,            para = Paragraph(st),"['para', '=', 'Paragraph', '(', 'st', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
104,        },['}'],['operator']
105,        // And add the paragraph to the chapter,['// And add the paragraph to the chapter'],"['comment', 'And', 'add', 'the', 'paragraph', 'to', 'the', 'chapter']"
106,        para.Format(),"['para', '.', 'Format', '()']","['identifier', 'operator', 'identifier', 'operator']"
107,"        ch.Paragraphs = append(ch.Paragraphs, para)","['ch', '.', 'Paragraphs', '=', 'append', '(', 'ch', '.', 'Paragraphs', ',', 'para', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
108,    }),['})'],['operator']
109,"    // Finally, let's signal a success","[""// Finally, let's signal a success""]","['comment', 'Finally', ',', 'let', ""'s"", 'signal', 'a', 'success']"
110,    done <- true,"['done', '<-', 'true']","['identifier', 'operator', 'identifier']"
111,},['}'],['operator']
112,// Return a slice of Arcs extracted from the table of contents,['// Return a slice of Arcs extracted from the table of contents'],"['comment', 'Return', 'a', 'slice', 'of', 'Arcs', 'extracted', 'from', 'the', 'table', 'of', 'contents']"
113,func ParseArcs(s string) []*Arc {,"['func', 'ParseArcs', '(', 's', 'string', ')', '[]*', 'Arc', '{']","['keyword', 'identifier', 'operator', 'identifier', 'identifier', 'operator', 'operator', 'identifier', 'operator']"
114,    arcs := []*Arc{},"['arcs', ':=', '[]*', 'Arc', '{}']","['identifier', 'operator', 'operator', 'identifier', 'operator']"
115,"    r, _ := regexp.Compile(`[0-9]+`)","['r', ',', '_', ':=', 'regexp', '.', 'Compile', '(', '[', '0', '-', '9', ']+', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'decimal_literal', 'operator', 'decimal_literal', 'operator', 'operator']"
116,"    for _, line := range strings.Split(s, ""\n"") {","['for', '_', ',', 'line', ':=', 'range', 'strings', '.', 'Split', '(', 's', ',', '""\\n""', ')', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator']"
117,        line = strings.TrimSpace(line),"['line', '=', 'strings', '.', 'TrimSpace', '(', 'line', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
118,"        if strings.HasPrefix(line, ""Arc"") {","['if', 'strings', '.', 'HasPrefix', '(', 'line', ',', '""Arc""', ')', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator']"
119,"            arcs = append(arcs, &Arc{","['arcs', '=', 'append', '(', 'arcs', ',', '&', 'Arc', '{']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'identifier', 'operator']"
120,"                Identifier: r.FindString(line),","['Identifier', ':', 'r', '.', 'FindString', '(', 'line', '),']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
121,"                Title:      line,","['Title', ':', 'line', ',']","['identifier', 'operator', 'identifier', 'operator']"
122,            }),['})'],['operator']
123,"        } else if strings.HasPrefix(line, ""Epilogue"") {","['}', 'else', 'if', 'strings', '.', 'HasPrefix', '(', 'line', ',', '""Epilogue""', ')', '{']","['operator', 'keyword', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator']"
124,"            arcs = append(arcs, &Arc{","['arcs', '=', 'append', '(', 'arcs', ',', '&', 'Arc', '{']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'identifier', 'operator']"
125,"                Identifier: ""E"",","['Identifier', ':', '""E""', ',']","['identifier', 'operator', 'string_literal', 'operator']"
126,"                Title:      line,","['Title', ':', 'line', ',']","['identifier', 'operator', 'identifier', 'operator']"
127,            }),['})'],['operator']
128,        },['}'],['operator']
129,    },['}'],['operator']
130,    return arcs,"['return', 'arcs']","['keyword', 'identifier']"
131,},['}'],['operator']
132,func main() {,"['func', 'main', '()', '{']","['keyword', 'identifier', 'operator', 'operator']"
133,    // Define the app,['// Define the app'],"['comment', 'Define', 'the', 'app']"
134,    app := cli.NewApp(),"['app', ':=', 'cli', '.', 'NewApp', '()']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
135,"    app.Name = ""Worm Scraper""","['app', '.', 'Name', '=', '""Worm Scraper""']","['identifier', 'operator', 'identifier', 'operator', 'string_literal']"
136,"    app.Usage = ""A tool to let you get an updated EPUB copy of the serial web novel Worm, by Wildbow""","['app', '.', 'Usage', '=', '""A tool to let you get an updated EPUB copy of the serial web novel Worm, by Wildbow""']","['identifier', 'operator', 'identifier', 'operator', 'string_literal']"
137,"    app.Version = ""1.0""","['app', '.', 'Version', '=', '""1.0""']","['identifier', 'operator', 'identifier', 'operator', 'string_literal']"
138,"    app.Author = ""Benjamin Harris""","['app', '.', 'Author', '=', '""Benjamin Harris""']","['identifier', 'operator', 'identifier', 'operator', 'string_literal']"
139,    // Define the application flags,['// Define the application flags'],"['comment', 'Define', 'the', 'application', 'flags']"
140,    app.Flags = []cli.Flag{,"['app', '.', 'Flags', '=', '[]', 'cli', '.', 'Flag', '{']","['identifier', 'operator', 'identifier', 'operator', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
141,"        cli.BoolFlag{""pdf"", ""Save the book as a PDF instead of an EPUB, if possible""},","['cli', '.', 'BoolFlag', '{', '""pdf"", ""Save the book as a PDF instead of an EPUB, if possible""', '},']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
142,"        cli.BoolFlag{""with-link"", ""Include a link to the chapter online""},","['cli', '.', 'BoolFlag', '{', '""with-link"", ""Include a link to the chapter online""', '},']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
143,"        cli.BoolFlag{""with-tags"", ""Include the tags each chapter was posted under""},","['cli', '.', 'BoolFlag', '{', '""with-tags"", ""Include the tags each chapter was posted under""', '},']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
144,"        cli.BoolFlag{""with-date"", ""Include the date each chapter was posted""},","['cli', '.', 'BoolFlag', '{', '""with-date"", ""Include the date each chapter was posted""', '},']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
145,    },['}'],['operator']
146,    // The heart of the application,['// The heart of the application'],"['comment', 'The', 'heart', 'of', 'the', 'application']"
147,    app.Action = func(context *cli.Context) {,"['app', '.', 'Action', '=', 'func', '(', 'context', '*', 'cli', '.', 'Context', ')', '{']","['identifier', 'operator', 'identifier', 'operator', 'keyword', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator']"
148,        // Starting the program,['// Starting the program'],"['comment', 'Starting', 'the', 'program']"
149,"        fmt.Println(""Starting to scrape Worm"")","['fmt', '.', 'Println', '(', '""Starting to scrape Worm""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
150,        // Get the list of arcs from the table of contents,['// Get the list of arcs from the table of contents'],"['comment', 'Get', 'the', 'list', 'of', 'arcs', 'from', 'the', 'table', 'of', 'contents']"
151,"        fmt.Println(""Gathering links from table of contents..."")","['fmt', '.', 'Println', '(', '""Gathering links from table of contents...""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
152,"        contents, err := goquery.NewDocument(TableOfContents)","['contents', ',', 'err', ':=', 'go', 'query', '.', 'NewDocument', '(', 'TableOfContents', ')']","['identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
153,        if err != nil {,"['if', 'err', '!=', 'nil', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator']"
154,"            panic(""Failed to get the table of contents! "" + err.Error())","['panic', '(', '""Failed to get the table of contents! ""', '+', 'err', '.', 'Error', '())']","['identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
155,        },['}'],['operator']
156,        // Parse the arcs,['// Parse the arcs'],"['comment', 'Parse', 'the', 'arcs']"
157,"        arcs := ParseArcs(contents.Find("".entry-content"").Text())","['arcs', ':=', 'ParseArcs', '(', 'contents', '.', 'Find', '(', '"".entry-content""', ').', 'Text', '())']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator']"
158,        // Now get the links for the arc chapters,['// Now get the links for the arc chapters'],"['comment', 'Now', 'get', 'the', 'links', 'for', 'the', 'arc', 'chapters']"
159,"        contents.Find("".entry-content a:not([class*=share-icon])"").Each(func(_ int, s *goquery.Selection) {","['contents', '.', 'Find', '(', '"".entry-content a:not([class*=share-icon])""', ').', 'Each', '(', 'func', '(', '_', 'int', ',', 's', '*', 'go', 'query', '.', 'Selection', ')', '{']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'keyword', 'operator', 'identifier', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator', 'operator']"
160,            ch := Chapter{},"['ch', ':=', 'Chapter', '{}']","['identifier', 'operator', 'identifier', 'operator']"
161,"            ch.Title = strings.Replace(strings.TrimSpace(s.Text()), ""\n"", """", -1)","['ch', '.', 'Title', '=', 'strings', '.', 'Replace', '(', 'strings', '.', 'TrimSpace', '(', 's', '.', 'Text', '()),', '""\\n"", """"', ',', '-', '1', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator', 'decimal_literal', 'operator']"
162,"            ch.Url, _ = s.Attr(""href"")","['ch', '.', 'Url', ',', '_', '=', 's', '.', 'Attr', '(', '""href""', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
163,"            if ch.Title == """" {","['if', 'ch', '.', 'Title', '==', '""""', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
164,                return,['return'],['keyword']
165,            },['}'],['operator']
166,"            arc, _ := ch.WhichArc(arcs)","['arc', ',', '_', ':=', 'ch', '.', 'WhichArc', '(', 'arcs', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
167,"            arc.Chapters = append(arc.Chapters, ch)","['arc', '.', 'Chapters', '=', 'append', '(', 'arc', '.', 'Chapters', ',', 'ch', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
168,        }),['})'],['operator']
169,        // Manually add missing chapter in Epilogue,['// Manually add missing chapter in Epilogue'],"['comment', 'Manually', 'add', 'missing', 'chapter', 'in', 'Epilogue']"
170,        c := Chapter{,"['c', ':=', 'Chapter', '{']","['identifier', 'operator', 'identifier', 'operator']"
171,"            Title: ""E.2"",","['Title', ':', '""E.2""', ',']","['identifier', 'operator', 'string_literal', 'operator']"
172,"            Url:   ""https://parahumans.wordpress.com/2013/11/05/teneral-e-2/"",","['Url', ':', '""https://parahumans.wordpress.com/2013/11/05/teneral-e-2/""', ',']","['identifier', 'operator', 'string_literal', 'operator']"
173,        },['}'],['operator']
174,"        a, _ := c.WhichArc(arcs)","['a', ',', '_', ':=', 'c', '.', 'WhichArc', '(', 'arcs', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
175,"        a.Chapters = append(a.Chapters, c)","['a', '.', 'Chapters', '=', 'append', '(', 'a', '.', 'Chapters', ',', 'c', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
176,"        copy(a.Chapters[1+1:], a.Chapters[1:])","['copy', '(', 'a', '.', 'Chapters', '[', '1', '+', '1', ':],', 'a', '.', 'Chapters', '[', '1', ':])']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'decimal_literal', 'operator', 'decimal_literal', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'decimal_literal', 'operator']"
177,        a.Chapters[1] = c,"['a', '.', 'Chapters', '[', '1', ']', '=', 'c']","['identifier', 'operator', 'identifier', 'operator', 'decimal_literal', 'operator', 'operator', 'identifier']"
178,        // Now start getting the chapters,['// Now start getting the chapters'],"['comment', 'Now', 'start', 'getting', 'the', 'chapters']"
179,        chapters := 0,"['chapters', ':=', '0']","['identifier', 'operator', 'decimal_literal']"
180,        done := make(chan bool),"['done', ':=', 'make', '(', 'chan', 'bool', ')']","['identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator']"
181,"        for _, arc := range arcs {","['for', '_', ',', 'arc', ':=', 'range', 'arcs', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator']"
182,"            for i, _ := range arc.Chapters {","['for', 'i', ',', '_', ':=', 'range', 'arc', '.', 'Chapters', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator']"
183,                chapters++,"['chapters', '++']","['identifier', 'operator']"
184,                go arc.Chapters[i].Parse(done),"['go', 'arc', '.', 'Chapters', '[', 'i', '].', 'Parse', '(', 'done', ')']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
185,            },['}'],['operator']
186,        },['}'],['operator']
187,"        fmt.Println(""Starting to parse"", chapters, ""chapters"")","['fmt', '.', 'Println', '(', '""Starting to parse"", chapters, ""chapters""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
188,"        fmt.Print(""Finished: "")","['fmt', '.', 'Print', '(', '""Finished: ""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
189,        totalChapters := chapters,"['totalChapters', ':=', 'chapters']","['identifier', 'operator', 'identifier']"
190,        for {,"['for', '{']","['keyword', 'operator']"
191,            select {,"['select', '{']","['keyword', 'operator']"
192,            case <-done:,"['case', '<-', 'done', ':']","['keyword', 'operator', 'identifier', 'operator']"
193,                chapters--,"['chapters', '--']","['identifier', 'operator']"
194,"                fmt.Print(totalChapters-chapters, "","")","['fmt', '.', 'Print', '(', 'totalChapters', '-', 'chapters', ',', '"",""', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
195,            },['}'],['operator']
196,            if chapters == 0 {,"['if', 'chapters', '==', '0', '{']","['keyword', 'identifier', 'operator', 'decimal_literal', 'operator']"
197,                // We're done with all the chapters,"[""// We're done with all the chapters""]","['comment', 'We', ""'re"", 'done', 'with', 'all', 'the', 'chapters']"
198,                close(done),"['close', '(', 'done', ')']","['identifier', 'operator', 'identifier', 'operator']"
199,                fmt.Println(),"['fmt', '.', 'Println', '()']","['identifier', 'operator', 'identifier', 'operator']"
200,                break,['break'],['keyword']
201,            },['}'],['operator']
202,        },['}'],['operator']
203,        // And let's write all this stuff to a file now,"[""// And let's write all this stuff to a file now""]","['comment', 'And', 'let', ""'s"", 'write', 'all', 'this', 'stuff', 'to', 'a', 'file', 'now']"
204,"        fmt.Println(""Saving results to file..."")","['fmt', '.', 'Println', '(', '""Saving results to file...""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
205,"        f, err := os.OpenFile(""Worm.md"", os.O_RDWR|os.O_CREATE|os.O_EXCL, 0666)","['f', ',', 'err', ':=', 'os', '.', 'OpenFile', '(', '""Worm.md""', ',', 'os', '.', 'O_RDWR', '|', 'os', '.', 'O_CREATE', '|', 'os', '.', 'O_EXCL', ',', '0666', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'decimal_literal', 'operator']"
206,        if err != nil {,"['if', 'err', '!=', 'nil', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator']"
207,            panic(err),"['panic', '(', 'err', ')']","['identifier', 'operator', 'identifier', 'operator']"
208,        },['}'],['operator']
209,        defer f.Close(),"['defer', 'f', '.', 'Close', '()']","['identifier', 'identifier', 'operator', 'identifier', 'operator']"
210,        // Define pagebreak,['// Define pagebreak'],"['comment', 'Define', 'pagebreak']"
211,"        PageBreak := ""\n\n""","['PageBreak', ':=', '""\\n\\n""']","['identifier', 'operator', 'string_literal']"
212,        // Write the cover,['// Write the cover'],"['comment', 'Write', 'the', 'cover']"
213,"        f.WriteString(""# Worm\n\n"")","['f', '.', 'WriteString', '(', '""# Worm\\n\\n""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
214,"        f.WriteString(""By Wildbow\n\n"")","['f', '.', 'WriteString', '(', '""By Wildbow\\n\\n""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
215,"        f.WriteString(""Website: "" + MainSite)","['f', '.', 'WriteString', '(', '""Website: ""', '+', 'MainSite', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator']"
216,        // Now loop through the Arcs,['// Now loop through the Arcs'],"['comment', 'Now', 'loop', 'through', 'the', 'Arcs']"
217,"        for _, arc := range arcs {","['for', '_', ',', 'arc', ':=', 'range', 'arcs', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator']"
218,"            f.WriteString(PageBreak + ""# "" + arc.Title)","['f', '.', 'WriteString', '(', 'PageBreak', '+', '""# ""', '+', 'arc', '.', 'Title', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
219,"            for _, chapter := range arc.Chapters {","['for', '_', ',', 'chapter', ':=', 'range', 'arc', '.', 'Chapters', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator']"
220,"                f.WriteString(""\n\n"")","['f', '.', 'WriteString', '(', '""\\n\\n""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
221,"                f.WriteString(""## "" + chapter.Title + ""\n\n"")","['f', '.', 'WriteString', '(', '""## "" + chapter.Title + ""\\n\\n""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
222,"                if context.Bool(""with-tags"") {","['if', 'context', '.', 'Bool', '(', '""with-tags""', ')', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator']"
223,"                    f.WriteString(""**Tags:** "" + strings.Join(chapter.Tags, "", "") + ""  "")","['f', '.', 'WriteString', '(', '""**Tags:** "" + strings.Join(chapter.Tags, "", "") + ""  ""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
224,                },['}'],['operator']
225,"                if context.Bool(""with-date"") {","['if', 'context', '.', 'Bool', '(', '""with-date""', ')', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator']"
226,"                    f.WriteString(""**Date:** "" + chapter.DatePosted + ""  "")","['f', '.', 'WriteString', '(', '""**Date:** "" + chapter.DatePosted + ""  ""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
227,                },['}'],['operator']
228,"                if context.Bool(""with-link"") {","['if', 'context', '.', 'Bool', '(', '""with-link""', ')', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator']"
229,"                    f.WriteString(""**Link:** "" + chapter.Url + ""  "")","['f', '.', 'WriteString', '(', '""**Link:** "" + chapter.Url + ""  ""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
230,                },['}'],['operator']
231,"                f.WriteString(""\n\n"")","['f', '.', 'WriteString', '(', '""\\n\\n""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
232,                // Now save the chapter's paragraphs,"[""// Now save the chapter's paragraphs""]","['comment', 'Now', 'save', 'the', 'chapter', ""'s"", 'paragraphs']"
233,"                for _, p := range chapter.Paragraphs {","['for', '_', ',', 'p', ':=', 'range', 'chapter', '.', 'Paragraphs', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'keyword', 'identifier', 'operator', 'identifier', 'operator']"
234,"                    f.WriteString(string(p) + ""\n\n"")","['f', '.', 'WriteString', '(', 'string', '(', 'p', ')', '+', '""\\n\\n""', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'operator', 'string_literal', 'operator']"
235,                },['}'],['operator']
236,            },['}'],['operator']
237,        },['}'],['operator']
238,"        // Now let's try to convert the markdown file into an ebook format (epub, pdf)","[""// Now let's try to convert the markdown file into an ebook format (epub, pdf)""]","['comment', 'Now', 'let', ""'s"", 'try', 'to', 'convert', 'the', 'markdown', 'file', 'into', 'an', 'ebook', 'format', '(', 'epub', ',', 'pdf', ')']"
239,"        fmt.Print(""Attempting to convert Markdown file... "")","['fmt', '.', 'Print', '(', '""Attempting to convert Markdown file... ""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
240,"        cmdText := []string{""-S"", ""Worm.md"", ""--epub-chapter-level"", ""2"", ""-o"", ""Worm.epub""}","['cmdText', ':=', '[]', 'string', '{', '""-S"", ""Worm.md"", ""--epub-chapter-level"", ""2"", ""-o"", ""Worm.epub""', '}']","['identifier', 'operator', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
241,"        if context.Bool(""pdf"") {","['if', 'context', '.', 'Bool', '(', '""pdf""', ')', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'operator']"
242,"            cmdText = []string{""Worm.md"", ""-o"", ""Worm.pdf""}","['cmdText', '=', '[]', 'string', '{', '""Worm.md"", ""-o"", ""Worm.pdf""', '}']","['identifier', 'operator', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
243,            PageBreak = ``,"['PageBreak', '=']","['identifier', 'operator']"
244,        },['}'],['operator']
245,"        cmd := exec.Command(""pandoc"", cmdText...)","['cmd', ':=', 'exec', '.', 'Command', '(', '""pandoc""', ',', 'cmdText', '...)']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator', 'identifier', 'operator']"
246,        err = cmd.Run(),"['err', '=', 'cmd', '.', 'Run', '()']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
247,        if err != nil {,"['if', 'err', '!=', 'nil', '{']","['keyword', 'identifier', 'operator', 'identifier', 'operator']"
248,"            fmt.Println(""Conversion failed! Make sure you've installed Pandoc (http://johnmacfarlane.net/pandoc/installing.html) if you want to convert the generated Markdown file to an ebook compatible format. In the meantime, we've left you the Markdown file."")","['fmt', '.', 'Println', '(', '""Conversion failed! Make sure you\'ve installed Pandoc (http://johnmacfarlane.net/pandoc/installing.html) if you want to convert the generated Markdown file to an ebook compatible format. In the meantime, we\'ve left you the Markdown file.""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
249,        } else {,"['}', 'else', '{']","['operator', 'keyword', 'operator']"
250,"            _ = os.Remove(""Worm.md"")","['_', '=', 'os', '.', 'Remove', '(', '""Worm.md""', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
251,"            fmt.Println(""Completed!"")","['fmt', '.', 'Println', '(', '""Completed!""', ')']","['identifier', 'operator', 'identifier', 'operator', 'string_literal', 'operator']"
252,        },['}'],['operator']
253,    },['}'],['operator']
254,    // Run the application,['// Run the application'],"['comment', 'Run', 'the', 'application']"
255,    app.Run(os.Args),"['app', '.', 'Run', '(', 'os', '.', 'Args', ')']","['identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator', 'identifier', 'operator']"
256,},['}'],['operator']
