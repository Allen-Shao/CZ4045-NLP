,text,token,annotation
0,"I am making a captcha and am following the example given here. I need to modify the example to use gorilla mux's routing as the rest of my app uses that. For the life of me I can't figure out how to correctly route the path for line 47 of that example. What I have below results in no captcha generated...(the example itself works fine). For shits & giggles I've even tried ""http.HandleFunc(""/captcha/"", captchaHandler)"" but that doesn't work either. Any suggestions?  

","['I', 'am', 'making', 'a', 'captcha', 'and', 'am', 'following', 'the', 'example', 'given', 'here.', 'I', 'need', 'to', 'modify', 'the', 'example', 'to', 'use', 'gorilla', ""mux's"", 'routing', 'as', 'the', 'rest', 'of', 'my', 'app', 'uses', 'that.', 'For', 'the', 'life', 'of', 'me', 'I', ""can't"", 'figure', 'out', 'how', 'to', 'correctly', 'route', 'the', 'path', 'for', 'line', '47', 'of', 'that', 'example.', 'What', 'I', 'have', 'below', 'results', 'in', 'no', 'captcha', 'generated...(the', 'example', 'itself', 'works', 'fine).', 'For', 'shits', '&', 'giggles', ""I've"", 'even', 'tried', '""http.HandleFunc(""/captcha/"",', 'captchaHandler)""', 'but', 'that', ""doesn't"", 'work', 'either.', 'Any', 'suggestions?']","['PRP', 'VBP', 'VBG', 'DT', 'NN', 'CC', 'VBP', 'VBG', 'DT', 'NN', 'VBN', 'NN', 'PRP', 'VBP', 'TO', 'VB', 'DT', 'NN', 'TO', 'VB', 'NN', 'NN', 'VBG', 'IN', 'DT', 'NN', 'IN', 'PRP$', 'JJ', 'NNS', 'NN', 'IN', 'DT', 'NN', 'IN', 'PRP', 'PRP', 'VBP', 'VB', 'RP', 'WRB', 'TO', 'VB', 'VB', 'DT', 'NN', 'IN', 'NN', 'CD', 'IN', 'DT', 'VBZ', 'WP', 'PRP', 'VBP', 'JJ', 'NNS', 'IN', 'DT', 'NN', 'NN', 'NN', 'PRP', 'VBZ', 'RB', 'IN', 'NNS', 'CC', 'NNS', 'NNP', 'RB', 'VBD', 'JJ', 'NN', 'CC', 'IN', 'JJ', 'NN', 'RB', 'NNP', 'NN']"
1,package main,"['package', 'main']","['KEYWORD', 'IDENTIFIER']"
2,import (,"['import', '(']","['KEYWORD', 'PUNCTUATION']"
3,"    ""github.com/dchest/captcha""","['""github.com/dchest/captcha""']",['STRING_LITERAL']
4,"    ""github.com/gorilla/mux""","['""github.com/gorilla/mux""']",['STRING_LITERAL']
5,"    ""io""","['""io""']",['STRING_LITERAL']
6,"    ""log""","['""log""']",['STRING_LITERAL']
7,"    ""net/http""","['""net/http""']",['STRING_LITERAL']
8,"    ""text/template""","['""text/template""']",['STRING_LITERAL']
9,),[')'],['PUNCTUATION']
10,"var formTemplate = template.Must(template.New(""example"").Parse(formTemplateSrc))","['var', 'for', 'mTemplate', '=', 'template.Must(template.New(""example"").Parse(formTemplateSrc))']","['KEYWORD', 'KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
11,"func showFormHandler(w http.ResponseWriter, r *http.Request) {","['func', 'showFormHandler', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'r', '*', 'http', '.', 'Request', ')', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
12,"    if r.URL.Path != ""/"" {","['if', 'r', '.', 'URL', '.', 'Path', '!=', '""/""', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'RELATION_OPERATOR', 'STRING_LITERAL', 'PUNCTUATION']"
13,"        http.NotFound(w, r)","['http.NotFound(w, r)']",['FUNCTION_CALL']
14,        return,['return'],['KEYWORD']
15,    },['}'],['PUNCTUATION']
16,    d := struct {,"['d', ':=', 'struct', '{']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'PUNCTUATION']"
17,        CaptchaId string,"['CaptchaId', 'string']","['IDENTIFIER', 'IDENTIFIER']"
18,    }{,['}{'],['PUNCTUATION']
19,"        captcha.New(),","['captcha.New()', ',']","['FUNCTION_CALL', 'PUNCTUATION']"
20,    },['}'],['PUNCTUATION']
21,"    if err := formTemplate.Execute(w, &d); err != nil {","['if', 'err', ':=', 'for', 'mTemplate.Execute(w, &d)', ';', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'FUNCTION_CALL', 'PUNCTUATION', 'IDENTIFIER', 'RELATION_OPERATOR', 'IDENTIFIER', 'PUNCTUATION']"
22,"        http.Error(w, err.Error(), http.StatusInternalServerError)","['http.Error(w, err.Error(), http.StatusInternalServerError)']",['FUNCTION_CALL']
23,    },['}'],['PUNCTUATION']
24,},['}'],['PUNCTUATION']
25,"func processFormHandler(w http.ResponseWriter, r *http.Request) {","['func', 'processFormHandler', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'r', '*', 'http', '.', 'Request', ')', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
26,"    w.Header().Set(""Content-Type"", ""text/html; charset=utf-8"")","['w.Header().Set(""Content-Type"", ""text/html; charset=utf-8"")']",['FUNCTION_CALL']
27,"    if !captcha.VerifyString(r.FormValue(""captchaId""), r.FormValue(""captchaSolution"")) {","['if', '!', 'captcha.VerifyString(r.FormValue(""captchaId""), r.FormValue(""captchaSolution""))', '{']","['KEYWORD', 'LOGICAL_OPERATOR', 'FUNCTION_CALL', 'PUNCTUATION']"
28,"        io.WriteString(w, ""Wrong captcha solution! No robots allowed!\n"")","['io.WriteString(w, ""Wrong captcha solution! No robots allowed!\\n"")']",['FUNCTION_CALL']
29,    } else {,"['}', 'else', '{']","['PUNCTUATION', 'KEYWORD', 'PUNCTUATION']"
30,"        io.WriteString(w, ""Great job, human! You solved the captcha.\n"")","['io.WriteString(w, ""Great job, human! You solved the captcha.\\n"")']",['FUNCTION_CALL']
31,    },['}'],['PUNCTUATION']
32,"    io.WriteString(w, ""Try another one"")","['io.WriteString(w, ""Try another one"")']",['FUNCTION_CALL']
33,},['}'],['PUNCTUATION']
34,"func captchaHandler(w http.ResponseWriter, r *http.Request) {","['func', 'captchaHandler', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'r', '*', 'http', '.', 'Request', ')', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
35,"    captcha.Server(captcha.StdWidth, captcha.StdHeight)","['captcha.Server(captcha.StdWidth, captcha.StdHeight)']",['FUNCTION_CALL']
36,},['}'],['PUNCTUATION']
37,type Routes []Route,"['type', 'Routes', '[]', 'Route']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER']"
38,type Route struct {,"['type', 'Route', 'struct', '{']","['KEYWORD', 'IDENTIFIER', 'KEYWORD', 'PUNCTUATION']"
39,    Method      string,"['Method', 'string']","['IDENTIFIER', 'IDENTIFIER']"
40,    Pattern     string,"['Pattern', 'string']","['IDENTIFIER', 'IDENTIFIER']"
41,    HandlerFunc http.HandlerFunc,"['HandlerFunc', 'http', '.', 'HandlerFunc']","['IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER']"
42,},['}'],['PUNCTUATION']
43,func main() {,"['func', 'main', '()', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
44,    /*,['/*'],['PUNCTUATION']
45,"        http.HandleFunc(""/"", showFormHandler)","['http.HandleFunc(""/"", showFormHandler)']",['FUNCTION_CALL']
46,"        http.HandleFunc(""/process"", processFormHandler)","['http.HandleFunc(""/process"", processFormHandler)']",['FUNCTION_CALL']
47,"        //http.HandleFunc(""/captcha/"", captchaHandler) // doesn't work","['//', 'http.HandleFunc(""/captcha/"",', 'captchaHandler)', ""doesn't"", 'work']","['COMMENT', 'NN', 'NN', 'NN', 'NN']"
48,"        http.Handle(""/captcha/"", captcha.Server(captcha.StdWidth, captcha.StdHeight))","['http.Handle(""/captcha/"", captcha.Server(captcha.StdWidth, captcha.StdHeight))']",['FUNCTION_CALL']
49,"        fmt.Println(""Server is at localhost:8666"")","['fmt.Println(""Server is at localhost:8666"")']",['FUNCTION_CALL']
50,"        if err := http.ListenAndServe("":8666"", nil); err != nil {","['if', 'err', ':=', 'http.ListenAndServe("":8666"", nil)', ';', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL', 'PUNCTUATION', 'IDENTIFIER', 'RELATION_OPERATOR', 'IDENTIFIER', 'PUNCTUATION']"
51,            log.Fatal(err),['log.Fatal(err)'],['FUNCTION_CALL']
52,        },['}'],['PUNCTUATION']
53,    */,['*/'],['PUNCTUATION']
54,    var routes = Routes{,"['var', 'routes', '=', 'Routes', '{']","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'IDENTIFIER', 'PUNCTUATION']"
55,"        Route{""GET"", ""/"", showFormHandler},","['Route', '{', '""GET""', ',', '""/""', ',', 'showFormHandler', '},']","['IDENTIFIER', 'PUNCTUATION', 'STRING_LITERAL', 'PUNCTUATION', 'STRING_LITERAL', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
56,"        Route{""POST"", ""/process"", processFormHandler},","['Route', '{', '""POST""', ',', '""/process""', ',', 'processFormHandler', '},']","['IDENTIFIER', 'PUNCTUATION', 'STRING_LITERAL', 'PUNCTUATION', 'STRING_LITERAL', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
57,"        Route{""GET"", ""/captcha/"", captchaHandler},","['Route', '{', '""GET""', ',', '""/captcha/""', ',', 'captchaHandler', '},']","['IDENTIFIER', 'PUNCTUATION', 'STRING_LITERAL', 'PUNCTUATION', 'STRING_LITERAL', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
58,    },['}'],['PUNCTUATION']
59,    router := mux.NewRouter().StrictSlash(true),"['router', ':=', 'mux.NewRouter().StrictSlash(true)']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
60,"    for _, route := range routes {","['for', '_', ',', 'route', ':=', 'range', 'routes', '{']","['KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'KEYWORD', 'IDENTIFIER', 'PUNCTUATION']"
61,        var handler http.Handler,"['var', 'handler', 'http', '.', 'Handler']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER']"
62,        handler = route.HandlerFunc,"['handler', '=', 'route', '.', 'HandlerFunc']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER']"
63,        router.Methods(route.Method).Path(route.Pattern).Handler(handler),['router.Methods(route.Method).Path(route.Pattern).Handler(handler)'],['FUNCTION_CALL']
64,    },['}'],['PUNCTUATION']
65,"    //router.Methods(""GET"").Path(""/captcha/"").HandlerFunc(captcha.Server(captcha.StdWidth, captcha.StdHeight))","['//', 'router.Methods(""GET"").Path(""/captcha/"").HandlerFunc(captcha.Server(captcha.StdWidth,', 'captcha.StdHeight))']","['COMMENT', 'NN', 'NN']"
66,"    port := "":8666""","['port', ':=', '"":8666""']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'STRING_LITERAL']"
67,"    log.Println(""Listening at"", port)","['log.Println(""Listening at"", port)']",['FUNCTION_CALL']
68,"    log.Fatal(http.ListenAndServe(port, router))","['log.Fatal(http.ListenAndServe(port, router))']",['FUNCTION_CALL']
69,},['}'],['PUNCTUATION']
70,const formTemplateSrc = `,"['const', 'for', 'mTemplateSrc', '=']","['KEYWORD', 'KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR']"
71,Captcha Example,"['Captcha', 'Example']","['IDENTIFIER', 'IDENTIFIER']"
72,"function setSrcQuery(e, q) {","['func', 'tion', 'setSrcQuery', '(', 'e', ',', 'q', ')', '{']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
73,    var src  = e.src;,"['var', 'src', '=', 'e', '.', 'src', ';']","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
74,    var p = src.indexOf('?');,"['var', 'p', '=', ""src.indexOf('?')"", ';']","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL', 'PUNCTUATION']"
75,    if (p >= 0) {,"['if', '(', 'p', '>=', '0', ')', '{']","['KEYWORD', 'PUNCTUATION', 'IDENTIFIER', 'RELATION_OPERATOR', 'OCTAL_LITERAL', 'PUNCTUATION', 'PUNCTUATION']"
76,"        src = src.substr(0, p);","['src', '=', 'src.substr(0, p)', ';']","['IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL', 'PUNCTUATION']"
77,    },['}'],['PUNCTUATION']
78,"    e.src = src + ""?"" + q","['e', '.', 'src', '=', 'src', '+', '""?""', '+', 'q']","['IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'IDENTIFIER', 'ARITHMETIC_OPERATOR', 'STRING_LITERAL', 'ARITHMETIC_OPERATOR', 'IDENTIFIER']"
79,},['}'],['PUNCTUATION']
80,function playAudio() {,"['func', 'tion', 'playAudio', '()', '{']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
81,"    var le = document.getElementById(""lang"");","['var', 'le', '=', 'document.getElementById(""lang"")', ';']","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL', 'PUNCTUATION']"
82,    var lang = le.options[le.selectedIndex].value;,"['var', 'lang', '=', 'le', '.', 'options', '[', 'le', '.', 'select', 'edIndex', '].', 'value', ';']","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION']"
83,    var e = document.getElementById('audio'),"['var', 'e', '=', ""document.getElementById('audio')""]","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
84,"    setSrcQuery(e, ""lang="" + lang)","['setSrcQuery', '(', 'e', ',', '""lang=""', '+', 'lang', ')']","['IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'STRING_LITERAL', 'ARITHMETIC_OPERATOR', 'IDENTIFIER', 'PUNCTUATION']"
85,    e.style.display = 'block';,"['e', '.', 'style', '.', 'display', '=', ""'block'"", ';']","['IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'STRING_LITERAL', 'PUNCTUATION']"
86,    e.autoplay = 'true';,"['e', '.', 'autoplay', '=', ""'true'"", ';']","['IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'STRING_LITERAL', 'PUNCTUATION']"
87,    return false;,"['return', 'false', ';']","['KEYWORD', 'BOOLEAN_LITERAL', 'PUNCTUATION']"
88,},['}'],['PUNCTUATION']
89,function changeLang() {,"['func', 'tion', 'chan', 'geLang', '()', '{']","['KEYWORD', 'IDENTIFIER', 'KEYWORD', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
90,    var e = document.getElementById('audio'),"['var', 'e', '=', ""document.getElementById('audio')""]","['KEYWORD', 'IDENTIFIER', 'ASSIGNMENT_OPERATOR', 'FUNCTION_CALL']"
91,    if (e.style.display == 'block') {,"['if', '(', 'e', '.', 'style', '.', 'display', '==', ""'block'"", ')', '{']","['KEYWORD', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'PUNCTUATION', 'IDENTIFIER', 'RELATION_OPERATOR', 'STRING_LITERAL', 'PUNCTUATION', 'PUNCTUATION']"
92,        playAudio();,"['playAudio', '();']","['IDENTIFIER', 'PUNCTUATION']"
93,    },['}'],['PUNCTUATION']
94,},['}'],['PUNCTUATION']
95,function reload() {,"['func', 'tion', 'reload', '()', '{']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION', 'PUNCTUATION']"
96,"    setSrcQuery(document.getElementById('image'), ""reload="" + (new Date()).getTime());","['setSrcQuery', '(', 'document.getElementById(\'image\'), ""reload="" + (new Date()).getTime())', ';']","['IDENTIFIER', 'PUNCTUATION', 'FUNCTION_CALL', 'PUNCTUATION']"
97,"    setSrcQuery(document.getElementById('audio'), (new Date()).getTime());","['setSrcQuery', '(', ""document.getElementById('audio'), (new Date()).getTime())"", ';']","['IDENTIFIER', 'PUNCTUATION', 'FUNCTION_CALL', 'PUNCTUATION']"
98,    return false;,"['return', 'false', ';']","['KEYWORD', 'BOOLEAN_LITERAL', 'PUNCTUATION']"
99,},['}'],['PUNCTUATION']
100,    English,['English'],['IDENTIFIER']
101,    Russian,['Russian'],['IDENTIFIER']
102,    Chinese,['Chinese'],['IDENTIFIER']
103,Type the numbers you see in the picture below:,"['Type', 'the', 'numbers', 'you', 'see', 'in', 'the', 'picture', 'below', ':']","['IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION']"
104,Reload | Play Audio,"['Reload', '|', 'Play', 'Audio']","['IDENTIFIER', 'BITWISE_OPERATOR', 'IDENTIFIER', 'IDENTIFIER']"
105,  You browser doesn't support audio.,"['You', 'browser', 'doesn', 't', 'support', 'audio', '.']","['IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION']"
106,  Download file to play it in the external player.,"['Download', 'file', 'to', 'play', 'it', 'in', 'the', 'external', 'player', '.']","['IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'IDENTIFIER', 'PUNCTUATION']"
107,`,[],[]
108,"

EDIT #1:
To be clearer ""doesn't work"" isn't helpful. It returns a 404 error.

EDIT #2:
The example on github works fine....its only when I modify the route that it returns a 404 when I try to generate a captcha.
","['EDIT', '#1:', 'To', 'be', 'clearer', '""doesn\'t', 'work""', ""isn't"", 'helpful.', 'It', 'returns', 'a', '404', 'error.', 'EDIT', '#2:', 'The', 'example', 'on', 'github', 'works', 'fine....its', 'only', 'when', 'I', 'modify', 'the', 'route', 'that', 'it', 'returns', 'a', '404', 'when', 'I', 'try', 'to', 'generate', 'a', 'captcha.']","['NNP', 'NN', 'TO', 'VB', 'JJR', 'NNP', 'VBD', 'JJ', 'NN', 'PRP', 'VBZ', 'DT', 'CD', 'NN', 'NNP', 'VBZ', 'DT', 'NN', 'IN', 'NN', 'VBZ', 'NNS', 'RB', 'WRB', 'PRP', 'VBP', 'DT', 'NN', 'IN', 'PRP', 'VBZ', 'DT', 'CD', 'WRB', 'PRP', 'VBP', 'TO', 'VB', 'DT', 'NN']"
