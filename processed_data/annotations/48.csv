,text,token,annotation
0,// global handler for our DB,['// global handler for our DB'],"['COMMENT', 'JJ', 'NN', 'IN', 'PRP$', 'NN']"
1,var db *sql.DB,"['var', 'db', '*', 'sql', '.', 'DB']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
2,// CLI parameter,['// CLI parameter'],"['COMMENT', 'NNP', 'NN']"
3,var dbdsn string,"['var', 'dbdsn', 'string']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER']"
4,func init() {,"['func', 'init', '()', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'OPERATOR']"
5,"    flag.StringVar(&dbdsn, ""dbdsn"", ""root:root@tcp(localhost:3306)/prod?timeout=5s&tls=false&autocommit=true"", ""Specifies the MySql DSN connection."")","['flag', '.', 'StringVar', '(&', 'dbdsn', ',', '""dbdsn"", ""root:root@tcp(localhost:3306)/prod?timeout=5s&tls=false&autocommit=true"", ""Specifies the MySql DSN connection.""', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'STRING_LITERAL', 'OPERATOR']"
6,    flag.Parse(),"['flag', '.', 'Parse', '()']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
7,    var err error,"['var', 'err', 'error']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER']"
8,"    db, err = sql.Open(""mysql"", dbdsn)","['db', ',', 'err', '=', 'sql', '.', 'Open', '(', '""mysql""', ',', 'dbdsn', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'STRING_LITERAL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
9,    if err != nil {,"['if', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
10,"        log.Printf(""ERROR in sql.Open(): %v"", err)","['log', '.', 'Printf', '(', '""ERROR in sql.Open(): %v""', ',', 'err', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'STRING_LITERAL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
11,    },['}'],['OPERATOR']
12,    //db.SetMaxIdleConns(5),['//db.SetMaxIdleConns(5)'],"['COMMENT', 'NN', '(', 'CD', ')']"
13,    // verify the DSN is setup properly1,['// verify the DSN is setup properly1'],"['COMMENT', 'VB', 'DT', 'NNP', 'VBZ', 'JJ', 'NN']"
14,    err = db.Ping(),"['err', '=', 'db', '.', 'Ping', '()']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
15,    if err != nil {,"['if', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
16,"        panic(""PANIC when pinging db: "" + err.Error()) // proper error handling instead of panic in your app","['panic', '(', '""PANIC when pinging db: ""', '+', 'err', '.', 'Error', '())', '// proper error handling instead of panic in your app']","['IDENTIFIER', 'OPERATOR', 'STRING_LITERAL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'COMMENT', 'JJ', 'NN', 'VBG', 'RB', 'IN', 'NN', 'IN', 'PRP$', 'NN']"
17,    },['}'],['OPERATOR']
18,},['}'],['OPERATOR']
19,// **********,['// **********'],"['COMMENT', 'NN']"
20,// * omitted is the Gorilla MUX router and http handler registrations,['// * omitted is the Gorilla MUX router and http handler registrations'],"['COMMENT', 'NN', 'VBN', 'VBZ', 'DT', 'NNP', 'NNP', 'NN', 'CC', 'NN', 'NN', 'NNS']"
21,// **********,['// **********'],"['COMMENT', 'NN']"
22,"func ArticleHandler(w http.ResponseWriter, r *http.Request, c *Context) (err error) {","['func', 'ArticleHandler', '(', 'w', 'http', '.', 'ResponseWriter', ',', 'r', '*', 'http', '.', 'Request', ',', 'c', '*', 'Context', ')', '(', 'err', 'error', ')', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER', 'OPERATOR', 'OPERATOR']"
23,    m := NewArticle(c),"['m', ':=', 'NewArticle', '(', 'c', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
24,"    id := c.Vars[""id""]","['id', ':=', 'c', '.', 'Vars', '[', '""id""', ']']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'STRING_LITERAL', 'OPERATOR']"
25,    var pid int,"['var', 'pid', 'int']","['KEYWORD', 'IDENTIFIER', 'IDENTIFIER']"
26,"    var title, body, excerpt, date, slug, fi, fv, region, region_slug string","['var', 'title', ',', 'body', ',', 'excerpt', ',', 'date', ',', 'slug', ',', 'fi', ',', 'fv', ',', 'region', ',', 'region_slug', 'string']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'IDENTIFIER']"
27,    err = db.QueryRow(,"['err', '=', 'db', '.', 'QueryRow', '(']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
28,"        ""SELECT p.ID, p.post_title, p.post_content, p.post_excerpt, p.post_date, p.post_name, ""+","['""SELECT p.ID, p.post_title, p.post_content, p.post_excerpt, p.post_date, p.post_name, ""', '+']","['STRING_LITERAL', 'OPERATOR']"
29,"            ""(SELECT fpim.meta_value FROM wp_postmeta fpim WHERE fpim.meta_key = '_wp_attached_file' AND fpim.post_id = (SELECT fpim2.meta_value FROM wp_postmeta fpim2 WHERE fpim2.post_id = p.ID AND fpim2.meta_key = '_thumbnail_id' LIMIT 1) LIMIT 1) AS featured_image, ""+","['""(SELECT fpim.meta_value FROM wp_postmeta fpim WHERE fpim.meta_key = \'_wp_attached_file\' AND fpim.post_id = (SELECT fpim2.meta_value FROM wp_postmeta fpim2 WHERE fpim2.post_id = p.ID AND fpim2.meta_key = \'_thumbnail_id\' LIMIT 1) LIMIT 1) AS featured_image, ""', '+']","['STRING_LITERAL', 'OPERATOR']"
30,"            ""(SELECT fpim3.meta_value FROM wp_postmeta fpim3 WHERE fpim3.meta_key = 'fv_video' AND fpim3.post_id = p.ID LIMIT 1) AS featured_video, ""+","['""(SELECT fpim3.meta_value FROM wp_postmeta fpim3 WHERE fpim3.meta_key = \'fv_video\' AND fpim3.post_id = p.ID LIMIT 1) AS featured_video, ""', '+']","['STRING_LITERAL', 'OPERATOR']"
31,"            ""t.name as region, t.slug as region_slug ""+","['""t.name as region, t.slug as region_slug ""', '+']","['STRING_LITERAL', 'OPERATOR']"
32,"            ""FROM wp_posts p ""+","['""FROM wp_posts p ""', '+']","['STRING_LITERAL', 'OPERATOR']"
33,"            ""JOIN wp_term_relationships tr ON tr.object_id=p.ID ""+","['""JOIN wp_term_relationships tr ON tr.object_id=p.ID ""', '+']","['STRING_LITERAL', 'OPERATOR']"
34,"            ""JOIN wp_term_taxonomy tt ON tt.term_taxonomy_id=tr.term_taxonomy_id ""+","['""JOIN wp_term_taxonomy tt ON tt.term_taxonomy_id=tr.term_taxonomy_id ""', '+']","['STRING_LITERAL', 'OPERATOR']"
35,"            ""JOIN wp_terms t ON t.term_id=tt.term_id ""+","['""JOIN wp_terms t ON t.term_id=tt.term_id ""', '+']","['STRING_LITERAL', 'OPERATOR']"
36,"            ""WHERE p.post_name=? AND p.post_type='post' AND p.post_status='publish' AND p.post_date <= UTC_TIMESTAMP()""+","['""WHERE p.post_name=? AND p.post_type=\'post\' AND p.post_status=\'publish\' AND p.post_date <= UTC_TIMESTAMP()""', '+']","['STRING_LITERAL', 'OPERATOR']"
37,"            ""AND tr.object_id=p.ID AND tt.parent = (SELECT t3.term_id FROM wp_terms t3 WHERE t3.name=? LIMIT 1) LIMIT 1"",","['""AND tr.object_id=p.ID AND tt.parent = (SELECT t3.term_id FROM wp_terms t3 WHERE t3.name=? LIMIT 1) LIMIT 1""', ',']","['STRING_LITERAL', 'OPERATOR']"
38,"        id, RegionsParentCategory).","['id', ',', 'RegionsParentCategory', ').']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
39,"        Scan(&pid, &title, &body, &excerpt, &date, &slug, &fi, &fv, ®ion, ®ion_slug)","['Scan', '(&', 'pid', ',', '&', 'title', ',', '&', 'body', ',', '&', 'excerpt', ',', '&', 'date', ',', '&', 'slug', ',', '&', 'fi', ',', '&', 'fv', ',', 'ion', ',', 'ion_slug', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
40,    if err != nil {,"['if', 'err', '!=', 'nil', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
41,        if err == sql.ErrNoRows {,"['if', 'err', '==', 'sql', '.', 'ErrNoRows', '{']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
42,            // snipped code for redirects,['// snipped code for redirects'],"['COMMENT', 'JJ', 'NN', 'IN', 'NNS']"
43,            // article was not found,['// article was not found'],"['COMMENT', 'NN', 'VBD', 'RB', 'VBN']"
44,"            return handleNotFound(w, r, c)","['return', 'handleNotFound', '(', 'w', ',', 'r', ',', 'c', ')']","['KEYWORD', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
45,        } else {,"['}', 'else', '{']","['OPERATOR', 'KEYWORD', 'OPERATOR']"
46,"            log.Printf(""ERROR in .Scan(): %v"", err)","['log', '.', 'Printf', '(', '""ERROR in .Scan(): %v""', ',', 'err', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'STRING_LITERAL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
47,        },['}'],['OPERATOR']
48,    } else {,"['}', 'else', '{']","['OPERATOR', 'KEYWORD', 'OPERATOR']"
49,        m.Region = Region{,"['m', '.', 'Region', '=', 'Region', '{']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
50,"            Name: region,","['Name', ':', 'region', ',']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
51,"            Slug: region_slug,","['Slug', ':', 'region_slug', ',']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
52,        },['}'],['OPERATOR']
53,        m.Id = pid,"['m', '.', 'Id', '=', 'pid']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
54,        m.Title = title,"['m', '.', 'Title', '=', 'title']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
55,        m.Body = template.HTML(body) // render the raw html,"['m', '.', 'Body', '=', 'template', '.', 'HTML', '(', 'body', ')', '// render the raw html']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'COMMENT', 'VB', 'DT', 'JJ', 'NN']"
56,        m.Excerpt = excerpt,"['m', '.', 'Excerpt', '=', 'excerpt']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
57,        m.Datetime = date,"['m', '.', 'Datetime', '=', 'date']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
58,        m.Slug = slug,"['m', '.', 'Slug', '=', 'slug']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
59,        m.FeaturedImageUrl = fi,"['m', '.', 'FeaturedImageUrl', '=', 'fi']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
60,        m.FeaturedVideoUrl = fv,"['m', '.', 'FeaturedVideoUrl', '=', 'fv']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER']"
61,    },['}'],['OPERATOR']
62,"    web.RenderTemplate(w, ""article"", m)","['web', '.', 'RenderTemplate', '(', 'w', ',', '""article""', ',', 'm', ')']","['IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'IDENTIFIER', 'OPERATOR', 'STRING_LITERAL', 'OPERATOR', 'IDENTIFIER', 'OPERATOR']"
63,    return,['return'],['KEYWORD']
64,},['}'],['OPERATOR']
